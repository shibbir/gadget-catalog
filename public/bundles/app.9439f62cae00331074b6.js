"use strict";(self.webpackChunkgadget_catalog=self.webpackChunkgadget_catalog||[]).push([[143],{9680:(e,t,a)=>{var n=a(7294),r=a(5998),l=a(9558),i=a(745),c=a(9655),o=a(3894),s=a(5068),m=a(7642),u=a(7779),d=a(2167);const E={LOGIN:"LOGIN",LOGIN_FULFILLED:"LOGIN_FULFILLED",REGISTER:"REGISTER",REGISTER_FULFILLED:"REGISTER_FULFILLED",GET_PROFILE:"GET_PROFILE",GET_PROFILE_FULFILLED:"GET_PROFILE_FULFILLED",CHANGE_PASSWORD:"CHANGE_PASSWORD",RESET_PASSWORD:"RESET_PASSWORD",DISCONNECT_PROVIDER:"DISCONNECT_PROVIDER",DISCONNECT_PROVIDER_FULFILLED:"DISCONNECT_PROVIDER_FULFILLED"};function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){(0,d.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h={loggedInUser:null};const f={POST_ITEM:"POST_ITEM",POST_ITEM_FULFILLED:"POST_ITEM_FULFILLED",POST_ITEM_REJECTED:"POST_ITEM_REJECTED",PUT_ITEM:"PUT_ITEM",PUT_ITEM_FULFILLED:"PUT_ITEM_FULFILLED",PUT_ITEM_REJECTED:"PUT_ITEM_REJECTED",GET_ITEM:"GET_ITEM",GET_ITEM_PENDING:"GET_ITEM_PENDING",GET_ITEM_FULFILLED:"GET_ITEM_FULFILLED",GET_ITEM_REJECTED:"GET_ITEM_REJECTED",GET_ITEMS:"GET_ITEMS",GET_ITEMS_FULFILLED:"GET_ITEMS_FULFILLED",DELETE_ITEM:"DELETE_ITEM",DELETE_ITEM_FULFILLED:"DELETE_ITEM_FULFILLED",DELETE_ITEM_IMAGE:"DELETE_ITEM_IMAGE",UPDATE_ITEM_IMAGE:"UPDATE_ITEM_IMAGE",UPDATE_ITEM_IMAGE_FULFILLED:"UPDATE_ITEM_IMAGE_FULFILLED",DELETE_ITEM_IMAGE_FULFILLED:"DELETE_ITEM_IMAGE_FULFILLED",GET_ITEMS_BY_YEAR:"GET_ITEMS_BY_YEAR",GET_ITEMS_BY_YEAR_FULFILLED:"GET_ITEMS_BY_YEAR_FULFILLED"};function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){(0,d.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Z={item:null,itemsPerYear:null,items:{data:[],metadata:{pages:[]}}};const v={GET_BRANDS:"GET_BRANDS",GET_BRANDS_FULFILLED:"GET_BRANDS_FULFILLED",POST_BRAND:"POST_BRAND",POST_BRAND_FULFILLED:"POST_BRAND_FULFILLED",PUT_BRAND:"PUT_BRAND",PUT_BRAND_FULFILLED:"PUT_BRAND_FULFILLED",GET_BRAND:"GET_BRAND",GET_BRAND_FULFILLED:"GET_BRAND_FULFILLED"};function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function _(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){(0,d.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var I={brands:[],brand:null};const D={GET_CATEGORIES:"GET_CATEGORIES",GET_CATEGORIES_FULFILLED:"GET_CATEGORIES_FULFILLED",GET_CATEGORIES_REJECTED:"GET_CATEGORIES_REJECTED",POST_CATEGORY:"POST_CATEGORY",POST_CATEGORY_FULFILLED:"POST_CATEGORY_FULFILLED",PUT_CATEGORY:"PUT_CATEGORY",PUT_CATEGORY_FULFILLED:"PUT_CATEGORY_FULFILLED",PUT_CATEGORY_REJECTED:"PUT_CATEGORY_REJECTED",GET_CATEGORY:"GET_CATEGORY",GET_CATEGORY_PENDING:"GET_CATEGORY_PENDING",GET_CATEGORY_FULFILLED:"GET_CATEGORY_FULFILLED",GET_CATEGORY_REJECTED:"GET_CATEGORY_REJECTED"};function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(Object(a),!0).forEach((function(t){(0,d.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var C={categories:[],category:null};const w=(0,u.UY)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.LOGIN_FULFILLED:case E.REGISTER_FULFILLED:case E.GET_PROFILE_FULFILLED:case E.DISCONNECT_PROVIDER_FULFILLED:return g(g({},e),{},{loggedInUser:t.payload.data})}return e},itemReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.GET_ITEM_PENDING:return y({},e);case f.GET_ITEM_FULFILLED:return y(y({},e),{},{item:t.payload.data});case f.GET_ITEMS_FULFILLED:return y(y({},e),{},{items:{data:t.payload.data.data,metadata:t.payload.data.metadata}});case f.UPDATE_ITEM_IMAGE_FULFILLED:case f.DELETE_ITEM_IMAGE_FULFILLED:return y(y({},e),{},{item:y(y({},e.item),{},{files:t.payload.data.files})});case f.GET_ITEMS_BY_YEAR_FULFILLED:return y(y({},e),{},{itemsPerYear:t.payload.data})}return e},brandReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.GET_BRANDS_FULFILLED:return _(_({},e),{},{brands:t.payload.data});case v.GET_BRAND_FULFILLED:return _(_({},e),{},{brand:t.payload.data});case v.POST_BRAND_FULFILLED:return _(_({},e),{},{brands:e.brands.concat(t.payload.data)});case v.PUT_BRAND_FULFILLED:var a=e.brands.map((function(e){return e._id===t.payload.data._id&&(e.name=t.payload.data.name),e}));return _(_({},e),{},{brands:a})}return e},categoryReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D.GET_CATEGORIES_FULFILLED:return O(O({},e),{},{categories:t.payload.data});case D.GET_CATEGORY_FULFILLED:return O(O({},e),{},{category:t.payload.data});case D.PUT_CATEGORY_REJECTED:return e}return e}}),R=(0,m.xC)({reducer:w,middleware:[s.ZP,o.Z]});var S=a(2861),P=a(9250),F=a(5712),N=a(345),A=a(5766),G=a(9445),U=a(5382),k=a(8237);function M(){return n.createElement(F.Z,null,n.createElement(N.Z,{hidden:!0}),n.createElement(A.Z,{placeholder:!0},n.createElement(G.Z,{icon:!0},n.createElement(U.Z,{name:"search",color:"red"}),"The page you are looking for might have been removed had its name changed or is temporarily unavailable."),n.createElement(A.Z.Inline,null,n.createElement(k.Z,{primary:!0,href:"/"},"GO HOME"))))}function j(){var e,t=(0,P.TH)();return(0,r.v9)((function(e){return e.userReducer.loggedInUser}))?n.createElement(P.Fg,{to:(null===(e=t.state)||void 0===e||null===(e=e.from)||void 0===e?void 0:e.pathname)||"/",state:{from:t},replace:!0}):n.createElement(P.j3,null)}var x=a(2393);function B(){var e=(0,r.v9)((function(e){return e.userReducer.loggedInUser}));return n.createElement(x.Z,{stackable:!0,borderless:!0},n.createElement(F.Z,null,n.createElement(x.Z.Item,{header:!0,style:{paddingLeft:0}},n.createElement("img",{src:"/images/logo.png"})),n.createElement(c.OL,{to:"/",className:function(e){return"item"+(e.isActive?" active":"")}},n.createElement(U.Z,{name:"dashboard",color:"teal"}),"Dashboard"),n.createElement(c.OL,{to:"/items",className:function(e){return"item"+(e.isActive?" active":"")}},n.createElement(U.Z,{name:"desktop",color:"teal"})," Manage Items"),n.createElement(c.OL,{to:"/categories",className:function(e){return"item"+(e.isActive?" active":"")}},n.createElement(U.Z,{name:"sitemap",color:"teal"})," Manage Categories"),n.createElement(c.OL,{to:"/brands",className:function(e){return"item"+(e.isActive?" active":"")}},n.createElement(U.Z,{name:"apple",color:"teal"})," Manage Brands"),n.createElement("div",{className:"right item",style:{paddingRight:0}},n.createElement(c.OL,{to:"/profile",className:"ui button teal"},n.createElement(U.Z,{name:"user"})," ",e.name),n.createElement("a",{href:"/api/logout",className:"ui button black",style:{marginLeft:"5px"}},n.createElement(U.Z,{name:"sign out"})," Sign Out"))))}function Y(){return n.createElement("footer",{className:"ui inverted vertical footer segment"},n.createElement("div",{className:"ui center aligned container"},n.createElement("div",{className:"ui stackable inverted divided grid"},n.createElement("div",{className:"four wide column"},n.createElement("h4",{className:"ui inverted header"},"Community"),n.createElement("div",{className:"ui inverted link list"},n.createElement("a",{className:"item",href:"https://github.com/shibbir/gadget-catalog"},"GitHub"),n.createElement("a",{className:"item",href:"https://github.com/shibbir/gadget-catalog/issues"},"Issues"))),n.createElement("div",{className:"four wide column"},n.createElement("h4",{className:"ui inverted header"},"Technology stack"),n.createElement("div",{className:"ui inverted link list"},n.createElement("a",{className:"item",href:"https://reactjs.org/"},"React"),n.createElement("a",{className:"item",href:"https://react-redux.js.org/"},"Redux"),n.createElement("a",{className:"item",href:"https://expressjs.com/"},"Express"),n.createElement("a",{className:"item",href:"https://www.mongodb.com/"},"MongoDB"),n.createElement("a",{className:"item",href:"https://www.passportjs.org/"},"Passport"))),n.createElement("div",{className:"eight wide right floated column"},n.createElement("h4",{className:"ui inverted teal header"},"Help Preserve This Project!"),n.createElement("p",null,"Developed by ",n.createElement("a",{href:"https://shibbir.io"},"Shibbir Ahmed"),". Code licensed ",n.createElement("a",{rel:"license",href:"https://github.com/shibbir/gadget-catalog/blob/master/LICENSE"},"MIT"),"."),n.createElement(k.Z,{className:"large teal",href:"https://github.com/shibbir/gadget-catalog"},n.createElement(U.Z,{name:"github"})," Star")))))}function q(){var e=(0,P.TH)();return(0,r.v9)((function(e){return e.userReducer.loggedInUser}))?n.createElement(n.Fragment,null,n.createElement(B,null),n.createElement(F.Z,{className:"site-content"},n.createElement(P.j3,null),n.createElement(N.Z,{hidden:!0})),n.createElement(Y,null)):n.createElement(P.Fg,{to:"login",state:{from:e},replace:!0})}var H=a(8152),z=a(7296),J=a(7678),W=a(3518),V=a.n(W),K=a(6763),Q=a(4631),X=a(8788);var $=a(6310),ee=(0,$.Ry)().shape({email:(0,$.Z_)().email("This field should be an valid email address.").required("This field must not be empty."),password:(0,$.Z_)().required("This field must not be empty.")}),te=(0,$.Ry)().shape({name:(0,$.Z_)().min(2,"This field must be at least 2 characters long.").max(25,"This field must be at most 25 characters long.").required("This field must not be empty."),email:(0,$.Z_)().email("This field should be an valid email address.").max(30,"This field must be at most 30 characters long.").required("This field must not be empty."),password:(0,$.Z_)().min(8,"This field must be at least 8 characters long.").max(60,"This field must be at most 60 characters long.").required("This field must not be empty.")}),ae=(0,$.Ry)().shape({currentPassword:(0,$.Z_)().min(8,"This field must be at least 8 characters long.").max(60,"This field must be at most 60 characters long.").required("This field must not be empty."),newPassword:(0,$.Z_)().min(8,"This field must be at least 8 characters long.").max(60,"This field must be at most 60 characters long.").required("This field must not be empty."),confirmNewPassword:(0,$.Z_)().min(8,"This field must be at least 8 characters long.").max(60,"This field must be at most 60 characters long.").required("This field must not be empty.").oneOf([(0,$.iH)("newPassword"),null],"Passwords doesn't match.")}),ne=(0,$.Ry)().shape({newPassword:(0,$.Z_)().min(8,"This field must be at least 8 characters long.").max(60,"This field must be at most 60 characters long.").required("This field must not be empty."),confirmNewPassword:(0,$.Z_)().min(8,"This field must be at least 8 characters long.").max(60,"This field must be at most 60 characters long.").required("This field must not be empty.").oneOf([(0,$.iH)("newPassword"),null],"Passwords doesn't match.")}),re=(0,$.Ry)().shape({email:(0,$.Z_)().email("This field should be an valid email address.").required("This field must not be empty.")});function le(){return n.createElement(n.Fragment,null,n.createElement(N.Z,{hidden:!0}),n.createElement(A.Z,{className:"stacked center aligned"},n.createElement(N.Z,{horizontal:!0},"or, use third party identity providers"),n.createElement("div",null,n.createElement(k.Z,{color:"facebook",href:"/auth/facebook"},n.createElement(U.Z,{name:"facebook"})," Facebook"),n.createElement(k.Z,{color:"google plus",href:"/auth/google"},n.createElement(U.Z,{name:"google plus"})," Google"))))}var ie=a(7462),ce=a(7051),oe=a(4587),se=function(e){var t=e.attributes;return n.createElement(ce.Z.Field,{required:t.required},t.label&&n.createElement("label",null,t.label),t.icon&&n.createElement("div",{className:"ui fluid input left icon"},n.createElement(U.Z,{name:t.icon}),n.createElement(z.gN,{type:t.type,name:t.name,placeholder:t.placeholder,autoComplete:t.autoComplete})),!t.icon&&n.createElement("div",{className:"ui fluid input"},n.createElement(z.gN,{type:t.type,name:t.name,autoComplete:t.autoComplete})),n.createElement("div",{className:"field-validation-error"},n.createElement(z.Bc,{name:t.name})))},me=function(e){var t=e.attributes;return n.createElement(ce.Z.Field,{required:t.required},t.label&&n.createElement("label",null,t.label),n.createElement(oe.M,{apiKey:"5u4sm1f3zlkqokgmuq970u3zcmfgjtnjc4tbft4284rfzrue",value:t.value,init:{height:400,menubar:!1,plugins:["advlist","autolink","lists","link","anchor","visualblocks","code","insertdatetime","table"],toolbar:"blocks | bold italic forecolor | bullist numlist | removeformat",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }",placeholder:t.placeholder},onEditorChange:function(e){t.setFieldValue(t.name,e)}}))},ue=function(e){var t=e.attributes;return n.createElement(ce.Z.Field,{required:t.required},n.createElement(ce.Z.Select,(0,ie.Z)({search:!0},t,{options:t.options})),n.createElement("div",{className:"field-validation-error"},n.createElement(z.Bc,{name:t.name})))},de=function(e){var t=e.attributes;return n.createElement(ce.Z.Field,{required:t.required},t.label&&n.createElement("label",null,t.label),n.createElement("div",{className:"field",style:{margin:0}},n.createElement("div",{className:"ui input"},n.createElement("input",{type:"file",name:t.name,multiple:t.multiple,accept:"image/*",onChange:t.onChange}))),n.createElement("small",null,t.info),n.createElement("div",{className:"field-validation-error"},n.createElement(z.Bc,{name:t.name})))};function Ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function pe(){var e=(0,r.I0)(),t=(0,n.useRef)(),a=(0,n.useState)(!1),l=(0,H.Z)(a,2),i=l[0],o=l[1],s=(0,n.useState)(!1),m=(0,H.Z)(s,2),u=m[0],p=m[1],g=(0,n.useState)(""),h=(0,H.Z)(g,2),f=h[0],b=h[1];return n.createElement("div",{className:"ui middle aligned center aligned grid"},n.createElement("div",{style:{maxWidth:"370px"}},n.createElement(G.Z,{as:"h2",className:"teal center aligned"},n.createElement(K.Z,{src:"images/logo.png"}),n.createElement("div",{className:"content"},"Log-in to your account")),n.createElement(A.Z,{className:"stacked"},n.createElement(z.J9,{initialValues:{email:"",password:""},validationSchema:ee,onSubmit:function(a,n){t.current.executeAsync().then((function(r){var l;e((l={username:a.email,password:a.password,grant_type:"password",recaptchaToken:r},{type:E.LOGIN,payload:(0,S.Z)({method:"post",url:"/api/login",data:l})})).catch((function(e){V().error({timeout:3e3,title:e.response.status,message:e.response.data,position:"topRight"})})),t.current.reset(),n.setSubmitting(!1)}))}},n.createElement(z.l0,{className:"ui form"},n.createElement(se,{attributes:{name:"email",type:"email",icon:"mail",placeholder:"Email address",autoComplete:"username"}}),n.createElement(se,{attributes:{name:"password",type:"password",icon:"lock",placeholder:"Password",autoComplete:"current-password"}}),n.createElement(J.Z,{size:"invisible",ref:t,sitekey:"6LetqTYaAAAAALPTyu8NtrHw5PIvKxXq_-hQ1IE8"}),n.createElement(k.Z,{fluid:!0,type:"submit",className:"large teal"},"Login"))),n.createElement("button",{className:"ui primary tertiary button",onClick:function(){return p(!0)}},"Forgot password?"),n.createElement(Q.Z,{dimmer:"blurring",size:"tiny",open:u},i&&n.createElement(X.Z,{info:!0,icon:!0},n.createElement(U.Z,{name:"mail"}),n.createElement(X.Z.Content,null,n.createElement(X.Z.Header,null,"Check your email"),"We just sent an email to you with a link to reset your password!")),f&&n.createElement(X.Z,{error:!0,icon:!0},n.createElement(U.Z,{name:"frown"}),n.createElement(X.Z.Content,null,n.createElement(X.Z.Header,null,"Attention!"),f)),n.createElement(z.J9,{initialValues:{email:""},validationSchema:re,onSubmit:function(e,t){S.Z.post("/api/forgot-password",function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(a),!0).forEach((function(t){(0,d.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ee(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e)).then((function(){o(!0),b("")})).catch((function(e){b(e.response.data)})),t.resetForm(),t.setSubmitting(!1)}},n.createElement(n.Fragment,null,n.createElement(Q.Z.Header,null,"Reset Your Password"),n.createElement(Q.Z.Content,null,n.createElement(Q.Z.Description,null,n.createElement("p",null,"Enter your email address and we'll send you a link to reset your password."),n.createElement(z.l0,{id:"passwordResetForm"},n.createElement(se,{attributes:{name:"email",type:"email",icon:"mail",placeholder:"E-mail address",autoComplete:"username"}})))),n.createElement(Q.Z.Actions,null,n.createElement(k.Z,{color:"black",onClick:function(){p(!1),o(!1),b("")}},"Close"),n.createElement(k.Z,{loading:!1,form:"passwordResetForm",type:"submit",positive:!0,icon:"arrow right",labelPosition:"right",content:"Send e-mail"}))))),n.createElement(N.Z,{hidden:!0}),"Don't have an account? ",n.createElement(c.rU,{to:"/register"},"Sign up"),"."),"This site is protected by reCAPTCHA and the Google ",n.createElement("a",{href:"https://policies.google.com/privacy"},"Privacy Policy")," and ",n.createElement("a",{href:"https://policies.google.com/terms"},"Terms of Service")," apply.",n.createElement(le,null)))}function ge(){var e=(0,r.I0)();return n.createElement("div",{className:"ui middle aligned center aligned grid"},n.createElement("div",{style:{maxWidth:"380px"}},n.createElement(G.Z,{as:"h2",className:"teal center aligned"},n.createElement(K.Z,{src:"images/logo.png"}),n.createElement("div",{className:"content"},"Sign up for a new account")),n.createElement(A.Z,{className:"stacked"},n.createElement(z.J9,{initialValues:{name:"",email:"",password:""},displayName:"Register",validationSchema:te,onSubmit:function(t,a){var n;e((n=t,{type:E.REGISTER,payload:(0,S.Z)({method:"post",url:"/api/register",data:n})})),a.resetForm(),a.setSubmitting(!1)}},(function(e){return n.createElement(z.l0,{onSubmit:e.handleSubmit,className:"ui form"},n.createElement(se,{attributes:{type:"text",name:"name",placeholder:"Name",icon:"users",iconPosition:"left"}}),n.createElement(se,{attributes:{type:"email",name:"email",placeholder:"E-mail address",icon:"mail",iconPosition:"left",autoComplete:"username"}}),n.createElement(se,{attributes:{type:"password",name:"password",placeholder:"Password",icon:"lock",iconPosition:"left",autoComplete:"new-password"}}),n.createElement(k.Z,{fluid:!0,type:"submit",className:"large teal",disabled:e.isSubmitting},"Register"),n.createElement(N.Z,{hidden:!0}),"Already have an account? ",n.createElement(c.rU,{to:"/login"},"Sign in"),".")}))),"This site is protected by reCAPTCHA and the Google ",n.createElement("a",{href:"https://policies.google.com/privacy"},"Privacy Policy")," and ",n.createElement("a",{href:"https://policies.google.com/terms"},"Terms of Service")," apply.",n.createElement(le,null)))}function he(){var e=(0,n.useState)(!1),t=(0,H.Z)(e,2),a=t[0],l=t[1],i=(0,r.I0)(),o=(0,P.TH)();return n.createElement("div",{className:"ui middle aligned center aligned grid"},n.createElement("div",{style:{maxWidth:"450px"}},n.createElement(G.Z,{as:"h2",className:"teal center aligned"},n.createElement(K.Z,{src:"images/logo.png"}),n.createElement("div",{className:"content"},"Reset your password")),a&&n.createElement(X.Z,{info:!0},"Your password is changed. Please ",n.createElement(c.rU,{to:"/login"},"sign in")," to your account."),n.createElement(z.J9,{initialValues:{newPassword:"",confirmNewPassword:""},validationSchema:ne,onSubmit:function(e,t){var a,n;i((a=e,n=o.search,{type:E.RESET_PASSWORD,payload:(0,S.Z)({method:"put",data:a,url:"/api/reset-password".concat(n)})})).then((function(){l(!0)})),t.resetForm(),t.setSubmitting(!1)}},n.createElement(z.l0,{className:"ui form large"},n.createElement(A.Z,{className:"stacked"},n.createElement(se,{attributes:{type:"password",name:"newPassword",label:"New password",autoComplete:"new-password"}}),n.createElement(se,{attributes:{type:"password",name:"confirmNewPassword",label:"Confirm new password",autoComplete:"new-password"}}),n.createElement(k.Z,{fluid:!0,type:"submit",className:"large teal"},"Reset password"),n.createElement(N.Z,{hidden:!0}),"Remembered you password? ",n.createElement(c.rU,{to:"/login"},"Sign in"),".")))))}var fe=a(4309),be=a(9574);function ye(){var e=(0,r.I0)(),t=(0,r.v9)((function(e){return e.userReducer.loggedInUser})),a=function(t){confirm("Are you sure?")&&e(function(e){return{type:E.DISCONNECT_PROVIDER,payload:(0,S.Z)({method:"put",url:"/api/auth/disconnect?provider=".concat(e)})}}(t))};return n.createElement("div",null,n.createElement("h3",null,"Manage Oauth providers"),n.createElement(N.Z,{section:!0}),n.createElement(be.Z,{divided:!0,relaxed:!0},n.createElement(be.Z.Item,null,n.createElement(be.Z.Icon,{name:"facebook",size:"large",verticalAlign:"middle",color:"blue"}),n.createElement(be.Z.Content,null,n.createElement(be.Z.Header,null,"Facebook"),n.createElement(be.Z.Description,null,!t.facebook&&n.createElement("a",{href:"/oauth/facebook"},"[Connect]"),t.facebook&&n.createElement("div",null,t.facebook.email," ",n.createElement("a",{onClick:function(){return a("facebook")}},"[Disconnect]"))))),n.createElement(be.Z.Item,null,n.createElement(be.Z.Icon,{name:"google",size:"large",verticalAlign:"middle",color:"red"}),n.createElement(be.Z.Content,null,n.createElement(be.Z.Header,null,"Google"),n.createElement(be.Z.Description,null,!t.google&&n.createElement("a",{href:"/oauth/google"},"[Connect]"),t.google&&n.createElement("div",null,t.google.email," ",n.createElement("a",{onClick:function(){return a("google")}},"[Disconnect]")))))))}function Ze(){var e=(0,r.I0)();return n.createElement("div",null,n.createElement("h3",null,"Change local account password"),n.createElement(N.Z,{section:!0}),n.createElement(z.J9,{initialValues:{currentPassword:"",newPassword:"",confirmNewPassword:""},displayName:"ChangePassword",validationSchema:ae,onSubmit:function(t,a){var n;e((n=t,{type:E.CHANGE_PASSWORD,payload:(0,S.Z)({method:"put",data:n,url:"/api/profile/change-password"})})),a.resetForm(),a.setSubmitting(!1)}},(function(e){return n.createElement(z.l0,{onSubmit:e.handleSubmit,className:"ui form"},n.createElement(se,{attributes:{type:"password",name:"currentPassword",label:"Current password",autoComplete:"current-password"}}),n.createElement(se,{attributes:{type:"password",name:"newPassword",label:"New password",autoComplete:"new-password"}}),n.createElement(se,{attributes:{type:"password",name:"confirmNewPassword",label:"Confirm new password",autoComplete:"new-password"}}),n.createElement(N.Z,{hidden:!0}),n.createElement(k.Z.Group,null,n.createElement(k.Z,{type:"submit",positive:!0,disabled:e.isSubmitting},"Change password"),n.createElement(k.Z.Or,null),n.createElement(k.Z,{type:"reset",disabled:e.isSubmitting},"Reset")))})))}function ve(){return n.createElement(A.Z,null,n.createElement(fe.Z,{columns:2,relaxed:"very",stackable:!0},n.createElement(fe.Z.Column,null,n.createElement(Ze,null)),n.createElement(fe.Z.Column,null,n.createElement(ye,null))),n.createElement(N.Z,{vertical:!0},"Or"))}var Te=a(3626),_e=a(1609),Ie=a.n(_e),De=a(8840),Le=a.n(De),Oe=a(1581);function Ce(e){return{type:f.GET_ITEM,payload:(0,S.Z)({method:"get",url:"/api/items/".concat(e)})}}function we(){var e=[{key:"2021-2030",value:"2021-2030",text:"2021-2030"},{key:"2011-2020",value:"2011-2020",text:"2011-2020"},{key:"2001-2010",value:"2001-2010",text:"2001-2010"}],t=(0,n.useState)("".concat((new Date).getFullYear(),"-").concat((new Date).getFullYear()+9)),a=(0,H.Z)(t,2),l=a[0],i=a[1],c=(0,r.I0)();(0,n.useEffect)((function(){var e,t,a=l.split("-"),n=(0,H.Z)(a,2);e=n[0],t=n[1],c(function(e,t){return{type:f.GET_ITEMS_BY_YEAR,payload:(0,S.Z)({method:"get",url:"/api/items/item-count?start_year=".concat(e,"&end_year=").concat(t)})}}(e,t))}),[c,l]);var o=(0,r.v9)((function(e){return e.itemReducer.itemsPerYear}));return(0,n.useEffect)((function(){var e=[],t=[];for(var a in o)e.push(a.toString()),t.push(o[a]);t.length&&e.length&&Le().chart("item-chart",{chart:{type:"column"},title:{text:"Items purchased between year (".concat(l,")")},xAxis:{categories:e,crosshair:!0},yAxis:{min:0,title:{text:"Number of Items"},allowDecimals:!1},tooltip:{headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y}</b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:[{name:"Total Items",data:t}],credits:{enabled:!1},legend:{enabled:!1},accessibility:{enabled:!1}})}),[o]),n.createElement(n.Fragment,null,n.createElement(Oe.Z,{onChange:function(e,t){i(t.value)},options:e,defaultValue:e[0].value}),n.createElement("div",{id:"item-chart"}),Ie()(o)&&n.createElement(A.Z,{placeholder:!0,basic:!0},n.createElement(G.Z,{icon:!0},n.createElement(U.Z,{name:"warning sign"}),"Not enough data is available to generate the report.")))}function Re(){return{type:D.GET_CATEGORIES,payload:(0,S.Z)({method:"get",url:"/api/categories"})}}function Se(){var e=(0,r.I0)();(0,n.useEffect)((function(){e(Re())}),[e]);var t=(0,r.v9)((function(e){return e.categoryReducer.categories}));return(0,n.useEffect)((function(){if(t.length){var e=[];t.forEach((function(t){var a;null!==(a=t.items)&&void 0!==a&&a.length?e.push({name:t.name,y:t.items.length}):e.push({name:t.name,y:0})})),Le().chart("category-chart",{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},title:{text:"Gadget Categories"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0},showInLegend:!0}},series:[{type:"pie",name:"Categories",colorByPoint:!0,data:e}],credits:{enabled:!1},accessibility:{enabled:!1}})}}),[t]),n.createElement(n.Fragment,null,n.createElement("div",{id:"category-chart"}),!t.length&&n.createElement(A.Z,{placeholder:!0,basic:!0},n.createElement(G.Z,{icon:!0},n.createElement(U.Z,{name:"warning sign"}),"Not enough data is available to generate this report."),n.createElement(k.Z,{primary:!0},n.createElement(c.rU,{to:"/items/add",style:{color:"white"}},"Add New Item"))))}function Pe(){return n.createElement("div",{id:"dashboard"},n.createElement(Te.Z,{raised:!0,fluid:!0},n.createElement(Te.Z.Content,null,n.createElement(Te.Z.Header,null,n.createElement(U.Z,{name:"pie chart"}),"Category percentages")),n.createElement(Te.Z.Content,null,n.createElement(Se,null))),n.createElement(Te.Z,{raised:!0,fluid:!0},n.createElement(Te.Z.Content,null,n.createElement(Te.Z.Header,null,n.createElement(U.Z,{name:"bar chart"}),"Yearly report on purchased items")),n.createElement(Te.Z.Content,null,n.createElement(we,null))))}var Fe=a(7787),Ne=a(9861),Ae=a(8188),Ge=a(7401),Ue=a(7751),ke=a(9373),Me=a(2902),je=(0,$.Ry)().shape({name:(0,$.Z_)().min(2,"This field must be at least 2 characters long.").max(50,"This field must be at most 50 characters long.").required("This field must not be empty."),categoryId:(0,$.Z_)().required("This field must not be empty."),brandId:(0,$.Z_)().required("This field must not be empty."),purchaseDate:(0,$.hT)().required("This field must not be empty."),currency:(0,$.Z_)().required("This field must not be empty."),price:(0,$.Rx)().required("This field must not be empty."),payee:(0,$.Z_)().min(2,"This field must be at least 2 characters long.").max(30,"This field must be at most 50 characters long.")});function xe(){return{type:v.GET_BRANDS,payload:(0,S.Z)({method:"get",url:"/api/brands"})}}function Be(){var e=(0,P.UO)().id,t=(0,P.s0)(),a=(0,r.I0)();(0,n.useEffect)((function(){a(xe()),a(Re())}),[a]),(0,n.useEffect)((function(){e&&a(Ce(e))}),[e,a]);var l=(0,r.v9)((function(e){return e.itemReducer.item})),i=(0,r.v9)((function(e){return e.brandReducer.brands})),c=(0,r.v9)((function(e){return e.categoryReducer.categories})).map((function(e){return{key:e._id,value:e._id,text:e.name}})),o=i.map((function(e){return{key:e._id,value:e._id,text:e.name}})),s=[{key:"AUD",text:"AUD",value:"AUD"},{key:"BDT",text:"BDT",value:"BDT"},{key:"BGN",text:"BGN",value:"BGN"},{key:"CAD",text:"CAD",value:"CAD"},{key:"CNY",text:"CNY",value:"CNY"},{key:"EUR",text:"EUR",value:"EUR"},{key:"GBP",text:"GBP",value:"GBP"},{key:"INR",text:"INR",value:"INR"},{key:"JPY",text:"JPY",value:"JPY"},{key:"NZD",text:"NZD",value:"NZD"},{key:"RUB",text:"RUB",value:"RUB"},{key:"SGD",text:"SGD",value:"SGD"},{key:"USD",text:"USD",value:"USD"}];return n.createElement(z.J9,{initialValues:{name:l?l.name:"",description:l?l.description:"",categoryId:l?l.categoryId:"",brandId:l?l.brandId:"",purchaseDate:null!=l&&l.purchaseDate?(0,ke.Z)((0,Me.Z)(l.purchaseDate),"y-MM-d"):"",price:l?l.price:"",currency:l?l.currency:"",payee:l?l.payee:"",images:"",invoice:""},displayName:"ItemForm",enableReinitialize:!0,validationSchema:je,onSubmit:function(n,r){var l=new FormData;if(n.images){for(var i=0;i<n.images.length;i++)l.append("images",n.images[i]);delete n.images}for(var c in n.invoice&&(l.append("invoice",n.invoice),delete n.invoice),n)n[c]&&n.hasOwnProperty(c)&&l.append(c,n[c]);e?a(function(e,t){return{type:f.PUT_ITEM,payload:(0,S.Z)({method:"put",data:e,url:"/api/items/".concat(t)})}}(l,e)).then((function(e){e.action.type===f.PUT_ITEM_FULFILLED&&window.location.reload()})):a(function(e){return{type:f.POST_ITEM,payload:(0,S.Z)({method:"post",data:e,url:"/api/items"})}}(l)).then((function(e){var a=e.action,n=a.type,r=a.payload;n===f.POST_ITEM_FULFILLED&&t("/items/".concat(r.data._id))})),r.setSubmitting(!1)}},(function(e){return n.createElement(z.l0,{onSubmit:e.handleSubmit,className:"ui form",encType:"multipart/form-data"},n.createElement(se,{attributes:{type:"text",name:"name",label:"Name",required:!0}}),n.createElement(me,{attributes:{value:e.values.description,name:"description",label:"Description",placeholder:"Item description goes here...",setFieldValue:e.setFieldValue}}),n.createElement(ce.Z.Group,{widths:"equal"},n.createElement(ue,{attributes:{value:e.values.categoryId,name:"categoryId",placeholder:"Select category",label:"Category",options:c,onChange:function(t,a){e.setFieldValue(a.name,a.value)},required:!0}}),n.createElement(ue,{attributes:{value:e.values.brandId,name:"brandId",placeholder:"Select brand",label:"Brand",options:o,onChange:function(t,a){e.setFieldValue(a.name,a.value)},required:!0}})),n.createElement(ce.Z.Group,{widths:"equal"},n.createElement(se,{attributes:{type:"number",name:"price",label:"Price",required:!0}}),n.createElement(ue,{attributes:{value:e.values.currency,name:"currency",placeholder:"Select currency",label:"Currency",options:s,onChange:function(t,a){e.setFieldValue(a.name,a.value)},required:!0}})),n.createElement(ce.Z.Group,{widths:"equal"},n.createElement(se,{attributes:{type:"date",name:"purchaseDate",label:"Purchase date",required:!0}}),n.createElement(se,{attributes:{type:"text",name:"payee",label:"Payee"}})),n.createElement(de,{attributes:{type:"file",name:"images",label:"Upload images",multiple:!0,info:"You can upload a maximum of 3 images at a time. The max file size limit is 1.5 MB.",onChange:function(t){e.setFieldValue("images",t.currentTarget.files)}}}),n.createElement(de,{attributes:{type:"file",name:"invoice",label:"Upload invoice",info:"The max file size limit is 1.5 MB.",onChange:function(t){e.setFieldValue("invoice",t.currentTarget.files[0])}}}),n.createElement(N.Z,{hidden:!0}),n.createElement(k.Z.Group,null,n.createElement(k.Z,{type:"submit",positive:!0,disabled:e.isSubmitting},"Save changes"),n.createElement(k.Z.Or,null),n.createElement(k.Z,{type:"reset",disabled:e.isSubmitting},"Reset")))}))}function Ye(){var e,t=(0,P.UO)().id,a=(0,P.s0)(),l=(0,r.I0)(),i=(0,r.v9)((function(e){return e.itemReducer.item})),o=(0,r.v9)((function(e){return e.userReducer.loggedInUser})),s=(0,n.useState)(!1),m=(0,H.Z)(s,2),u=m[0],d=m[1];(0,n.useEffect)((function(){l(Ce(t))}),[l]);var E=function(e){confirm("Are you sure? All assets associated with this item will be removed too.")&&l(function(e){return{type:f.DELETE_ITEM,payload:(0,S.Z)({method:"delete",url:"/api/items/".concat(e)})}}(e)).then((function(e){e.action.type===f.DELETE_ITEM_FULFILLED&&a("/items")}))},p=function(e,t){confirm("Are you sure you want to delete this asset?")&&l(function(e,t){return{type:f.DELETE_ITEM_IMAGE,payload:(0,S.Z)({method:"delete",url:"/api/items/".concat(e,"/images/").concat(t)})}}(e,t))};return i?(null!==(e=i.assets)&&void 0!==e&&e.length&&(i.activeImage=i.assets.find((function(e){return!0===e.active}))),n.createElement(n.Fragment,null,n.createElement(Ne.Z,{size:"small"},n.createElement(c.rU,{to:"/items"},n.createElement(Ne.Z.Section,null,"Items")),n.createElement(Ne.Z.Divider,{icon:"right arrow"}),n.createElement(c.rU,{to:"/items?categoryId=".concat(i.category._id)},n.createElement(Ne.Z.Section,null,i.category.name)),n.createElement(Ne.Z.Divider,{icon:"right arrow"}),n.createElement(Ne.Z.Section,{active:!0},i.name)),n.createElement(N.Z,{hidden:!0}),n.createElement(fe.Z,null,n.createElement(fe.Z.Column,{width:10},i.activeImage&&n.createElement(K.Z,{src:i.activeImage.secure_url,alt:i.name}),i.files&&0===i.files.length&&n.createElement(X.Z,{warning:!0,icon:!0},n.createElement(U.Z,{name:"warning sign",size:"large"}),n.createElement(X.Z.Content,null,n.createElement(X.Z.Header,null,"Warning!"),"No assets are found for this item. ",n.createElement(c.rU,{to:"/items/".concat(i._id,"/edit")},"Consider editing the item"),"."))),n.createElement(fe.Z.Column,{width:6},n.createElement(Ae.Z,null,n.createElement(Ae.Z.Content,null,n.createElement(G.Z,{as:"h3"},i.name),n.createElement(N.Z,{hidden:!0}),n.createElement(N.Z,{horizontal:!0},"Meta Informations"),n.createElement(Ae.Z.Meta,null,n.createElement("div",null,"Category: ",n.createElement(c.rU,{to:"/items?categoryId=".concat(i.category._id)},i.category.name)),n.createElement("div",null,"Brand: ",n.createElement(c.rU,{to:"/items?brandId=".concat(i.brand._id)},i.brand.name)),i.price&&n.createElement("div",null,"Price: ",n.createElement(Fe.BK,{value:i.price,style:"currency",currency:i.currency})),n.createElement("div",null,"Purchase Date: ",n.createElement(Fe.Ji,{value:i.purchaseDate,day:"2-digit",month:"long",year:"numeric"})),i.invoice&&n.createElement("a",{href:"https://res.cloudinary.com/shibbir/image/upload/fl_attachment:invoice-".concat(i._id,"/").concat(i.invoice.public_id)},"Download invoice")),n.createElement(N.Z,{horizontal:!0},"Specifications"),n.createElement(Ae.Z.Description,null,i.description&&n.createElement("div",{dangerouslySetInnerHTML:{__html:i.description}}),!i.description&&n.createElement("div",null,"Not available at the moment.")))),o&&!o.isAdmin&&n.createElement(n.Fragment,null,n.createElement(N.Z,{section:!0}),n.createElement(k.Z,{color:"blue",onClick:function(){return d(!0)}},n.createElement(U.Z,{name:"pencil"})," Edit"),n.createElement(k.Z,{color:"red",onClick:function(){return E(t)}},n.createElement(U.Z,{name:"trash"})," Delete")))),i.assets&&i.assets.length>0&&n.createElement("div",null,n.createElement(N.Z,{hidden:!0}),n.createElement("h2",null,"Manage assets"),n.createElement(N.Z,{section:!0}),n.createElement(Te.Z.Group,null,i.assets.map((function(e){return n.createElement(Te.Z,{key:e._id,raised:!0},e.active&&n.createElement(Ge.Z,{color:"teal",corner:"right",size:"small"},n.createElement(U.Z,{name:"pin"})),n.createElement(Te.Z.Content,{className:"ui center aligned"},n.createElement(K.Z,{src:e.secure_url,size:"small"})),o&&!o.isAdmin&&n.createElement(Te.Z.Content,{extra:!0},n.createElement("a",{onClick:function(){return l((t=i._id,a=e._id,{type:f.UPDATE_ITEM_IMAGE,payload:(0,S.Z)({method:"put",url:"/api/items/".concat(t,"/images/").concat(a)})}));var t,a},disabled:e.active},n.createElement(U.Z,{color:"teal",name:"checkmark"}),"Set as active"),n.createElement("div",{className:"right floated"},n.createElement("a",{onClick:function(){return p(i._id,e._id)}},n.createElement(U.Z,{color:"red",name:"delete"}),"Discard"))))})))),n.createElement(Ue.Z,{open:u,transition:{animation:"scale",duration:400}},n.createElement(Q.Z,{dimmer:!0,size:"small",open:!0},n.createElement(Q.Z.Header,null,"Item Form"),n.createElement(Q.Z.Content,null,n.createElement(Q.Z.Description,null,n.createElement(Be,{id:t}))),n.createElement(Q.Z.Actions,null,n.createElement(k.Z,{color:"black",onClick:function(){return d(!1)}},"Close")))))):n.createElement(X.Z,{icon:!0,warning:!0},n.createElement(U.Z,{name:"warning sign",size:"large"}),n.createElement(X.Z.Content,null,n.createElement(X.Z.Header,null,"Warning!"),"Item not found."))}var qe=a(6685);function He(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ze(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?He(Object(a),!0).forEach((function(t){(0,d.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):He(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Je(){var e=(0,r.I0)(),t=(0,P.s0)(),a=(0,P.TH)(),l=(0,n.useState)(!1),i=(0,H.Z)(l,2),o=i[0],s=i[1],m=(0,n.useState)(!1),u=(0,H.Z)(m,2),d=u[0],E=u[1];(0,n.useEffect)((function(){e(xe()),e(Re())}),[]),(0,n.useEffect)((function(){e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:f.GET_ITEMS,payload:(0,S.Z)({method:"get",url:"/api/items".concat(e)})}}(a.search))}),[a.search]);var p=qe.Z.parse(a.search),g=(0,n.useState)(p.brandId?p.brandId:""),h=(0,H.Z)(g,2),b=h[0],y=h[1],Z=(0,n.useState)(p.categoryId?p.categoryId:""),v=(0,H.Z)(Z,2),T=v[0],_=v[1],I=(0,n.useState)(p.startDate?p.startDate:""),D=(0,H.Z)(I,2),L=D[0],O=D[1],C=(0,n.useState)(p.endDate?p.endDate:""),w=(0,H.Z)(C,2),R=w[0],M=w[1];function j(e,n){var r={};T&&"category"!==n&&(r.categoryId=T),b&&"brand"!==n&&(r.brandId=b),L&&R&&"date"!==n&&(r.startDate=L,r.endDate=R),a.search!=="?".concat(qe.Z.stringify(r))&&(t({pathname:"/items",search:qe.Z.stringify(r)}),s(!1))}var B=null,Y=null,q=null,z=(0,r.v9)((function(e){return e.itemReducer.items})),J=z.data,W=z.metadata,V=(0,r.v9)((function(e){return e.categoryReducer.categories})),X=(0,r.v9)((function(e){return e.brandReducer.brands}));p.categoryId&&V.length&&(Y=V.find((function(e){return e._id===p.categoryId})).name),p.brandId&&X.length&&(B=X.find((function(e){return e._id===p.brandId})).name),p.startDate&&p.endDate&&(q="".concat(L,"-").concat(R));for(var $=V.map((function(e){return{key:e._id,value:e._id,text:e.name}})),ee=X.map((function(e){return{key:e._id,value:e._id,text:e.name}})),te=J.map((function(e){var t,a=e.assets.find((function(e){return e.active}))?e.assets.find((function(e){return e.active})).secure_url:null===(t=e.assets[0])||void 0===t?void 0:t.secure_url;return n.createElement(c.rU,{key:e._id,className:"ui raised card",to:e._id},n.createElement(Te.Z.Content,{header:e.name,className:"ui center aligned"}),n.createElement(Te.Z.Content,{className:"ui center aligned image-wrapper"},a?n.createElement(K.Z,{src:a,alt:e.name}):"Image not available!"))})),ae=[],ne=1;ne<=W.pageCount;ne++)ae.push({idx:ne,link:{pathname:a.pathname,search:qe.Z.stringify(ze(ze({},p),{},{page:ne}))},isActive:!p.page&&1===ne||+p.page===ne});return ae=ae.map((function(e){return n.createElement(x.Z.Item,{active:e.isActive,key:e.idx},n.createElement(c.rU,{to:e.link},e.idx))})),n.createElement(n.Fragment,null,n.createElement(A.Z,{raised:!0,stacked:!0},n.createElement(fe.Z,{columns:2},n.createElement(fe.Z.Row,null,n.createElement(fe.Z.Column,null,n.createElement(G.Z,{as:"h3"},n.createElement(U.Z,{name:"archive",circular:!0}),n.createElement(G.Z.Content,null,"Total Gadgets: ",W.totalCount,n.createElement(G.Z.Subheader,null,"Add, edit, sort and filter your gadgets ",n.createElement(U.Z,{name:"angle double right"}))))),n.createElement(fe.Z.Column,null,n.createElement(k.Z,{floated:"right",size:"small",color:"blue",onClick:function(){return E(!0)}},"Add new item"),n.createElement(k.Z,{floated:"right",size:"small",onClick:function(){return s(!0)}},n.createElement(U.Z,{color:"teal",name:"filter"})," Filter"))))),n.createElement(Ue.Z,{open:o,transition:{animation:"scale",duration:400}},n.createElement(Q.Z,{dimmer:!0,size:"small",open:!0},n.createElement(Q.Z.Header,null,"Filter"),n.createElement(Q.Z.Content,null,n.createElement(Q.Z.Description,null,n.createElement(ce.Z,{onSubmit:j},n.createElement(ce.Z.Group,{widths:"equal"},n.createElement(ce.Z.Field,null,n.createElement("label",null,"Category"),n.createElement(ce.Z.Select,{placeholder:"Choose an option",name:"categoryId",options:$,value:T,onChange:function(e,t){_(t.value)}})),n.createElement(ce.Z.Field,null,n.createElement("label",null,"Brand"),n.createElement(ce.Z.Select,{placeholder:"Choose an option",name:"brandId",options:ee,value:b,onChange:function(e,t){y(t.value)}}))),n.createElement(ce.Z.Group,{widths:"equal"},n.createElement(ce.Z.Field,null,n.createElement("label",null,"Start Date"),n.createElement(ce.Z.Input,{type:"date",placeholder:"Choose a date",name:"startDate",value:L,onChange:function(e,t){O(t.value)}})),n.createElement(ce.Z.Field,null,n.createElement("label",null,"End Date"),n.createElement(ce.Z.Input,{type:"date",placeholder:"Choose a date",name:"endDate",value:R,onChange:function(e,t){M(t.value)}}))),n.createElement(k.Z.Group,null,n.createElement(k.Z,{type:"submit",positive:!0},n.createElement(U.Z,{name:"filter"})," Apply"),n.createElement(k.Z.Or,null),n.createElement(k.Z,{type:"button",onClick:function(){y(""),_(""),O(""),M(""),(p.categoryId||p.brandId||p.startDate||p.endDate)&&t("items")}},n.createElement(U.Z,{name:"undo"})," Reset"))))),n.createElement(Q.Z.Actions,null,n.createElement(k.Z,{color:"black",onClick:function(){return s(!1)}},"Close")))),Y&&n.createElement(Ge.Z,{color:"blue"},"Category: ",Y," ",n.createElement(U.Z,{name:"delete",onClick:function(e){_(""),j(0,"category")}})),B&&n.createElement(Ge.Z,{color:"blue"},"Brand: ",B," ",n.createElement(U.Z,{name:"delete",onClick:function(e){y(""),j(0,"brand")}})),q&&n.createElement(Ge.Z,{color:"blue"},"Date Range: ",q," ",n.createElement(U.Z,{name:"delete",onClick:function(e){O(""),M(""),j(0,"date")}})),n.createElement(N.Z,{hidden:!0}),te.length>0&&n.createElement("div",{id:"item-cards-container"},n.createElement(Te.Z.Group,{itemsPerRow:5,stackable:!0},te),1!==W.pageCount&&n.createElement("div",null,n.createElement(N.Z,{hidden:!0}),n.createElement(F.Z,{textAlign:"center"},n.createElement(x.Z,{pagination:!0},ae)))),0===te.length&&n.createElement(A.Z,{placeholder:!0,raised:!0},n.createElement(G.Z,{icon:!0},n.createElement(U.Z,{name:"warning sign"}),"You don't have any items!")),n.createElement(Ue.Z,{open:d,transition:{animation:"scale",duration:400}},n.createElement(Q.Z,{dimmer:!0,size:"small",open:!0},n.createElement(Q.Z.Header,null,"Item Form"),n.createElement(Q.Z.Content,null,n.createElement(Q.Z.Description,null,n.createElement(Be,null))),n.createElement(Q.Z.Actions,null,n.createElement(k.Z,{color:"black",onClick:function(){return E(!1)}},"Close")))))}var We=a(1300),Ve=a(5697),Ke=a.n(Ve);const Qe=(0,$.Ry)().shape({name:(0,$.Z_)().min(2,"This field must be at least 2 characters long.").max(30,"This field must be at most 30 characters long.").required("This field must not be empty.")});function Xe(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:props).id,t=(0,r.I0)();(0,n.useEffect)((function(){e&&t(function(e){return{type:v.GET_BRAND,payload:(0,S.Z)({method:"get",url:"/api/brands/".concat(e)})}}(e))}),[e,t]);var a=(0,r.v9)((function(e){return e.brandReducer.brand}));return n.createElement(z.J9,{initialValues:{name:e&&a?a.name:""},displayName:"BrandForm",enableReinitialize:!0,validationSchema:Qe,onSubmit:function(a,n){var r;e?t(function(e,t){return{type:v.PUT_BRAND,payload:(0,S.Z)({method:"put",data:e,url:"/api/brands/".concat(t)})}}(a,e)).then((function(){V().success({timeout:3e3,message:"Your changes are saved.",position:"bottomRight"})})):t((r=a,{type:v.POST_BRAND,payload:(0,S.Z)({method:"post",data:r,url:"/api/brands"})})).then((function(){V().success({timeout:3e3,message:"Your changes are saved.",position:"bottomRight"}),n.resetForm()})),n.setSubmitting(!1)}},(function(e){return n.createElement(z.l0,{onSubmit:e.handleSubmit,className:"ui form"},n.createElement(se,{attributes:{type:"text",name:"name",label:"Name",required:!0}}),n.createElement(N.Z,{hidden:!0}),n.createElement(k.Z,{type:"submit",positive:!0,disabled:e.isSubmitting},"Save changes"),n.createElement(k.Z,{type:"reset",disabled:e.isSubmitting},"Reset"))}))}Xe.propTypes={id:Ke().string};const $e=Xe;function et(){var e=(0,r.I0)(),t=(0,n.useState)(void 0),a=(0,H.Z)(t,2),l=a[0],i=a[1];(0,n.useEffect)((function(){e(xe())}),[]);var o=(0,r.v9)((function(e){return e.userReducer.loggedInUser})),s=(0,r.v9)((function(e){return e.brandReducer.brands})),m=s.map((function(e,t){return n.createElement(We.Z.Row,{key:e._id},n.createElement(We.Z.Cell,null,t+1),n.createElement(We.Z.Cell,null,e.name),n.createElement(We.Z.Cell,null,n.createElement(Fe.Ji,{value:e.date,day:"2-digit",month:"long",year:"numeric"})),n.createElement(We.Z.Cell,null,n.createElement(c.rU,{to:"/items?brandId=".concat(e._id)},n.createElement(U.Z,{color:"teal",name:"external alternate"}),e.items?e.items.length:0," item(s)")),n.createElement(We.Z.Cell,null,(null==o?void 0:o._id)===e.createdBy&&n.createElement("a",{onClick:function(){return i(e._id)}},n.createElement(U.Z,{name:"edit",color:"teal"})),(null==o?void 0:o._id)!==e.createdBy&&n.createElement(U.Z,{name:"lock",color:"black"})))}));return n.createElement(n.Fragment,null,s.length>0&&n.createElement(n.Fragment,null,n.createElement(k.Z,{floated:"right",primary:!0,size:"small",onClick:function(){return i(null)}},"Add new brand"),n.createElement(N.Z,{hidden:!0,clearing:!0}),n.createElement(We.Z,{selectable:!0,compact:!0},n.createElement(We.Z.Header,null,n.createElement(We.Z.Row,null,n.createElement(We.Z.HeaderCell,null,"#"),n.createElement(We.Z.HeaderCell,null,"Name"),n.createElement(We.Z.HeaderCell,null,"Last Updated"),n.createElement(We.Z.HeaderCell,null,"Items"),n.createElement(We.Z.HeaderCell,null,"Actions"))),n.createElement(We.Z.Body,null,m)),n.createElement(Ue.Z,{open:void 0!==l,transition:{animation:"scale",duration:400}},n.createElement(Q.Z,{dimmer:!0,size:"tiny",open:!0},n.createElement(Q.Z.Header,null,"Brand Form"),n.createElement(Q.Z.Content,null,n.createElement(Q.Z.Description,null,n.createElement($e,{id:l}))),n.createElement(Q.Z.Actions,null,n.createElement(k.Z,{color:"black",onClick:function(){return i(void 0)}},"Close"))))),0===s.length&&n.createElement(A.Z,{placeholder:!0,raised:!0},n.createElement(G.Z,{icon:!0},n.createElement(U.Z,{name:"warning sign"}),"No brands are available!")))}const tt=(0,$.Ry)().shape({name:(0,$.Z_)().min(2,"This field must be at least 2 characters long.").max(20,"This field must be at most 20 characters long.").required("This field must not be empty.")});function at(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:props).id,t=(0,r.I0)();(0,n.useEffect)((function(){e&&t(function(e){return{type:D.GET_CATEGORY,payload:(0,S.Z)({method:"get",url:"/api/categories/".concat(e)})}}(e))}),[e,t]);var a=(0,r.v9)((function(e){return e.categoryReducer.category}));return n.createElement(z.J9,{initialValues:{name:e&&a?a.name:"",group:e&&a?a.group:""},displayName:"CategoryForm",enableReinitialize:!0,validationSchema:tt,onSubmit:function(a,n){var r;e?t(function(e,t){return{type:D.PUT_CATEGORY,payload:(0,S.Z)({method:"put",data:e,url:"/api/categories/".concat(t)})}}(a,e)).then((function(){V().success({timeout:3e3,message:"Your changes are saved.",position:"bottomRight"})})):t((r=a,{type:D.POST_CATEGORY,payload:(0,S.Z)({method:"post",data:r,url:"/api/categories"})})).then((function(){V().success({timeout:3e3,message:"Your changes are saved.",position:"bottomRight"}),n.resetForm()})),n.setSubmitting(!1)}},(function(e){return n.createElement(z.l0,{onSubmit:e.handleSubmit,className:"ui form"},n.createElement(se,{attributes:{type:"text",name:"name",label:"Name",required:!0}}),n.createElement(N.Z,{hidden:!0}),n.createElement(k.Z.Group,null,n.createElement(k.Z,{type:"submit",positive:!0,disabled:e.isSubmitting},"Save changes"),n.createElement(k.Z.Or,null),n.createElement(k.Z,{type:"reset",disabled:e.isSubmitting},"Reset")))}))}function nt(){var e=(0,r.I0)(),t=(0,n.useState)(void 0),a=(0,H.Z)(t,2),l=a[0],i=a[1];(0,n.useEffect)((function(){e(Re())}),[]);var o=(0,r.v9)((function(e){return e.userReducer.loggedInUser})),s=(0,r.v9)((function(e){return e.categoryReducer.categories})),m=s.map((function(e){return n.createElement(Te.Z,{key:e._id},n.createElement(Te.Z.Content,null,n.createElement(Te.Z.Header,null,e.name),n.createElement(Te.Z.Meta,null,e.items?e.items.length:0," Items"),n.createElement(Te.Z.Description,null,"Steve wants to add you to the group ",n.createElement("strong",null,"best friends"))),n.createElement(Te.Z.Content,{extra:!0},n.createElement(c.rU,{to:"/items?categoryId=".concat(e._id),className:"ui button basic blue"},n.createElement(U.Z,{name:"external alternate",color:"teal"})," Show Items"),(null==o?void 0:o.isAdmin)&&n.createElement("a",{onClick:function(){return i(e._id)},className:"ui button"},n.createElement(U.Z,{name:"pencil",color:"teal"})," Edit")))}));return n.createElement(n.Fragment,null,s.length>0&&n.createElement(n.Fragment,null,(null==o?void 0:o.isAdmin)&&n.createElement(k.Z,{floated:"right",primary:!0,size:"small",onClick:function(){return i(null)}},"Add new category"),n.createElement(N.Z,{hidden:!0,clearing:!0}),n.createElement(Te.Z.Group,{itemsPerRow:4,stackable:!0},m),n.createElement(Ue.Z,{open:void 0!==l,transition:{animation:"scale",duration:400}},n.createElement(Q.Z,{dimmer:!0,size:"tiny",open:!0},n.createElement(Q.Z.Header,null,"Category Form"),n.createElement(Q.Z.Content,null,n.createElement(Q.Z.Description,null,n.createElement(at,{id:l}))),n.createElement(Q.Z.Actions,null,n.createElement(k.Z,{color:"black",onClick:function(){return i(void 0)}},"Close"))))),0===s.length&&n.createElement(A.Z,{placeholder:!0,raised:!0},n.createElement(G.Z,{icon:!0},n.createElement(U.Z,{name:"warning sign"}),"No categories are available!")))}var rt=0;function lt(e){e?(rt++,document.getElementById("loader").style="display: block"):rt>0&&(rt--,document.getElementById("loader").style=rt>0?"display: block":"display: none")}function it(){var e=(0,r.I0)();return(0,n.useEffect)((function(){e({type:E.GET_PROFILE,payload:(0,S.Z)({method:"get",url:"/api/profile"})})}),[e]),n.createElement(P.Z5,null,n.createElement(P.AW,{element:n.createElement(j,null)},n.createElement(P.AW,{path:"login",element:n.createElement(pe,null)}),n.createElement(P.AW,{path:"register",element:n.createElement(ge,null)}),n.createElement(P.AW,{path:"reset-password",element:n.createElement(he,null)})),n.createElement(P.AW,{element:n.createElement(q,null)},n.createElement(P.AW,{path:"/",element:n.createElement(Pe,null)}),n.createElement(P.AW,{path:"profile",element:n.createElement(ve,null)}),n.createElement(P.AW,{path:"items",element:n.createElement(Je,null)}),n.createElement(P.AW,{path:"items/:id",element:n.createElement(Ye,null)}),n.createElement(P.AW,{path:"brands",element:n.createElement(et,null)}),n.createElement(P.AW,{path:"categories",element:n.createElement(nt,null)})),n.createElement(P.AW,{path:"*",element:n.createElement(M,null)}))}S.Z.interceptors.request.use((function(e){return lt(!0),e}),(function(e){return lt(!1),Promise.reject(e)})),S.Z.interceptors.response.use((function(e){return lt(!1),e}),(function(e){return lt(!1),Promise.reject(e)})),(0,i.s)(document.getElementById("app")).render(n.createElement(r.zt,{store:R},n.createElement(l.Z,{locale:"en"},n.createElement(c.VK,{future:{v7_startTransition:!0}},n.createElement(it,null)))))}},e=>{e.O(0,[216],(()=>{return t=9680,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=app.9439f62cae00331074b6.js.map
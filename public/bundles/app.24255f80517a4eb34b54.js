"use strict";(self.webpackChunkgadget_catalog=self.webpackChunkgadget_catalog||[]).push([[524],{1831:(e,t,a)=>{var n=a(6540),r=a(1468),l=a(445),i=a(5338),c=a(7665),o=a(4784),s=a(5307),m=a(4644),u=a(4705);const d="LOGIN",E="LOGIN_FULFILLED",p="REGISTER",g="REGISTER_FULFILLED",h="GET_PROFILE",f="GET_PROFILE_FULFILLED",A="CHANGE_PASSWORD",b="RESET_PASSWORD",y="DISCONNECT_PROVIDER",v="DISCONNECT_PROVIDER_FULFILLED";function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){(0,u.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O={loggedInUser:null};const I="POST_ITEM",N="POST_ITEM_FULFILLED",T="PUT_ITEM",D="PUT_ITEM_FULFILLED",S="GET_ITEM",P="GET_ITEM_PENDING",_="GET_ITEM_FULFILLED",k="GET_ITEMS",R="GET_ITEMS_FULFILLED",j="DELETE_ITEM",F="DELETE_ITEM_FULFILLED",L="DELETE_ITEM_IMAGE",x="UPDATE_ITEM_IMAGE",G="UPDATE_ITEM_IMAGE_FULFILLED",q="DELETE_ITEM_IMAGE_FULFILLED",U="GET_ITEMS_BY_YEAR",Y="GET_ITEMS_BY_YEAR_FULFILLED";function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(Object(a),!0).forEach((function(t){(0,u.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var z={item:null,itemsPerYear:null,items:{data:[],metadata:{pages:[]}}};const H="GET_BRANDS",V="GET_BRANDS_FULFILLED",K="POST_BRAND",W="POST_BRAND_FULFILLED",Z="PUT_BRAND",J="PUT_BRAND_FULFILLED",X="GET_BRAND",Q="GET_BRAND_FULFILLED";function $(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ee(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$(Object(a),!0).forEach((function(t){(0,u.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var te={brands:[],brand:null};const ae="GET_CATEGORIES",ne="GET_CATEGORIES_FULFILLED",re="POST_CATEGORY",le="PUT_CATEGORY",ie="PUT_CATEGORY_REJECTED",ce="GET_CATEGORY",oe="GET_CATEGORY_FULFILLED";function se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function me(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?se(Object(a),!0).forEach((function(t){(0,u.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):se(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ue={categories:[],category:null};const de=(0,m.HY)({userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:case g:case f:case v:return C(C({},e),{},{loggedInUser:t.payload.data})}return e},itemReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return M({},e);case _:return M(M({},e),{},{item:t.payload.data});case R:return M(M({},e),{},{items:{data:t.payload.data.data,metadata:t.payload.data.metadata}});case G:case q:return M(M({},e),{},{item:M(M({},e.item),{},{files:t.payload.data.files})});case Y:return M(M({},e),{},{itemsPerYear:t.payload.data})}return e},brandReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return ee(ee({},e),{},{brands:t.payload.data});case Q:return ee(ee({},e),{},{brand:t.payload.data});case W:return ee(ee({},e),{},{brands:e.brands.concat(t.payload.data)});case J:var a=e.brands.map((function(e){return e._id===t.payload.data._id&&(e.name=t.payload.data.name),e}));return ee(ee({},e),{},{brands:a})}return e},categoryReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return me(me({},e),{},{categories:t.payload.data});case oe:return me(me({},e),{},{category:t.payload.data});case ie:return e}return e}}),Ee=(0,s.U1)({reducer:de,middleware:function(e){return e({serializableCheck:!1}).concat(o.Ay)}});var pe=a(1083),ge=a(7089),he=a(6713),fe=a(5074),Ae=a(4294),be=a(5907),ye=a(2870);function ve(){return n.createElement(ge.A,null,n.createElement(he.A,{hidden:!0}),n.createElement(fe.A,{placeholder:!0},n.createElement(Ae.A,{icon:!0},n.createElement(be.A,{name:"search",color:"red"}),"The page you are looking for might have been removed had its name changed or is temporarily unavailable."),n.createElement(fe.A.Inline,null,n.createElement(ye.A,{primary:!0,href:"/"},"GO HOME"))))}function we(){var e,t=(0,c.zy)();return(0,r.d4)((function(e){return e.userReducer.loggedInUser}))?n.createElement(c.C5,{to:(null===(e=t.state)||void 0===e||null===(e=e.from)||void 0===e?void 0:e.pathname)||"/",state:{from:t},replace:!0}):n.createElement(c.sv,null)}var Ce=a(3739);function Oe(){var e=(0,r.d4)((function(e){return e.userReducer.loggedInUser}));return n.createElement(Ce.A,{stackable:!0,borderless:!0},n.createElement(ge.A,null,n.createElement(Ce.A.Item,{header:!0,style:{paddingLeft:0}},n.createElement("img",{src:"/images/logo.png"})),n.createElement(c.k2,{to:"/",className:function(e){return"item"+(e.isActive?" active":"")}},n.createElement(be.A,{name:"dashboard",color:"teal"}),"Dashboard"),n.createElement(c.k2,{to:"/items",className:function(e){return"item"+(e.isActive?" active":"")}},n.createElement(be.A,{name:"desktop",color:"teal"})," Manage Items"),n.createElement(c.k2,{to:"/categories",className:function(e){return"item"+(e.isActive?" active":"")}},n.createElement(be.A,{name:"sitemap",color:"teal"})," Manage Categories"),n.createElement(c.k2,{to:"/brands",className:function(e){return"item"+(e.isActive?" active":"")}},n.createElement(be.A,{name:"apple",color:"teal"})," Manage Brands"),n.createElement("div",{className:"right item",style:{paddingRight:0}},n.createElement(c.k2,{to:"/profile",className:"ui button teal"},n.createElement(be.A,{name:"user"})," ",e.name),n.createElement("a",{href:"/api/logout",className:"ui button black",style:{marginLeft:"5px"}},n.createElement(be.A,{name:"sign out"})," Sign Out"))))}function Ie(){return n.createElement("footer",{className:"ui inverted vertical footer segment"},n.createElement("div",{className:"ui center aligned container"},n.createElement("div",{className:"ui stackable inverted divided grid"},n.createElement("div",{className:"four wide column"},n.createElement("h4",{className:"ui inverted header"},"Community"),n.createElement("div",{className:"ui inverted link list"},n.createElement("a",{className:"item",href:"https://github.com/shibbir/gadget-catalog"},"GitHub"),n.createElement("a",{className:"item",href:"https://github.com/shibbir/gadget-catalog/issues"},"Issues"))),n.createElement("div",{className:"four wide column"},n.createElement("h4",{className:"ui inverted header"},"Technology stack"),n.createElement("div",{className:"ui inverted link list"},n.createElement("a",{className:"item",href:"https://reactjs.org/"},"React"),n.createElement("a",{className:"item",href:"https://react-redux.js.org/"},"Redux"),n.createElement("a",{className:"item",href:"https://expressjs.com/"},"Express"),n.createElement("a",{className:"item",href:"https://www.mongodb.com/"},"MongoDB"),n.createElement("a",{className:"item",href:"https://www.passportjs.org/"},"Passport"))),n.createElement("div",{className:"eight wide right floated column"},n.createElement("h4",{className:"ui inverted teal header"},"Help Preserve This Project!"),n.createElement("p",null,"Developed by ",n.createElement("a",{href:"https://shibbir.io"},"Shibbir Ahmed"),". Code licensed ",n.createElement("a",{rel:"license",href:"https://github.com/shibbir/gadget-catalog/blob/master/LICENSE"},"MIT"),"."),n.createElement(ye.A,{className:"large teal",href:"https://github.com/shibbir/gadget-catalog"},n.createElement(be.A,{name:"github"})," Star")))))}function Ne(){var e=(0,c.zy)();return(0,r.d4)((function(e){return e.userReducer.loggedInUser}))?n.createElement(n.Fragment,null,n.createElement(Oe,null),n.createElement(ge.A,{className:"site-content"},n.createElement(c.sv,null),n.createElement(he.A,{hidden:!0})),n.createElement(Ie,null)):n.createElement(c.C5,{to:"login",state:{from:e},replace:!0})}var Te=a(7075),De=a(3296),Se=a(3413),Pe=a(9568),_e=a.n(Pe),ke=a(3171),Re=a(7293),je=a(3574);var Fe=a(2664),Le=(0,Fe.Ik)().shape({email:(0,Fe.Yj)().email("This field should be an valid email address.").required("This field must not be empty."),password:(0,Fe.Yj)().required("This field must not be empty.")}),xe=(0,Fe.Ik)().shape({name:(0,Fe.Yj)().min(2,"This field must be at least 2 characters long.").max(25,"This field must be at most 25 characters long.").required("This field must not be empty."),email:(0,Fe.Yj)().email("This field should be an valid email address.").max(30,"This field must be at most 30 characters long.").required("This field must not be empty."),password:(0,Fe.Yj)().min(8,"This field must be at least 8 characters long.").max(60,"This field must be at most 60 characters long.").required("This field must not be empty.")}),Ge=(0,Fe.Ik)().shape({currentPassword:(0,Fe.Yj)().min(8,"This field must be at least 8 characters long.").max(60,"This field must be at most 60 characters long.").required("This field must not be empty."),newPassword:(0,Fe.Yj)().min(8,"This field must be at least 8 characters long.").max(60,"This field must be at most 60 characters long.").required("This field must not be empty."),confirmNewPassword:(0,Fe.Yj)().min(8,"This field must be at least 8 characters long.").max(60,"This field must be at most 60 characters long.").required("This field must not be empty.").oneOf([(0,Fe.KR)("newPassword"),null],"Passwords doesn't match.")}),qe=(0,Fe.Ik)().shape({newPassword:(0,Fe.Yj)().min(8,"This field must be at least 8 characters long.").max(60,"This field must be at most 60 characters long.").required("This field must not be empty."),confirmNewPassword:(0,Fe.Yj)().min(8,"This field must be at least 8 characters long.").max(60,"This field must be at most 60 characters long.").required("This field must not be empty.").oneOf([(0,Fe.KR)("newPassword"),null],"Passwords doesn't match.")}),Ue=(0,Fe.Ik)().shape({email:(0,Fe.Yj)().email("This field should be an valid email address.").required("This field must not be empty.")});function Ye(){return n.createElement(n.Fragment,null,n.createElement(he.A,{hidden:!0}),n.createElement(fe.A,{className:"stacked center aligned"},n.createElement(he.A,{horizontal:!0},"or, use third party identity providers"),n.createElement("div",null,n.createElement(ye.A,{color:"facebook",href:"/auth/facebook"},n.createElement(be.A,{name:"facebook"})," Facebook"),n.createElement(ye.A,{color:"google plus",href:"/auth/google"},n.createElement(be.A,{name:"google plus"})," Google"))))}var Be=a(8168),Me=a(9727),ze=a(8002),He=function(e){var t=e.attributes;return n.createElement(Me.A.Field,{required:t.required},t.label&&n.createElement("label",null,t.label),t.icon&&n.createElement("div",{className:"ui fluid input left icon"},n.createElement(be.A,{name:t.icon}),n.createElement(De.D0,{type:t.type,name:t.name,placeholder:t.placeholder,autoComplete:t.autoComplete})),!t.icon&&n.createElement("div",{className:"ui fluid input"},n.createElement(De.D0,{type:t.type,name:t.name,autoComplete:t.autoComplete})),n.createElement("div",{className:"field-validation-error"},n.createElement(De.Kw,{name:t.name})))},Ve=function(e){var t=e.attributes;return n.createElement(Me.A.Field,{required:t.required},t.label&&n.createElement("label",null,t.label),n.createElement(ze.K,{apiKey:"5u4sm1f3zlkqokgmuq970u3zcmfgjtnjc4tbft4284rfzrue",value:t.value,init:{height:400,menubar:!1,plugins:["advlist","autolink","lists","link","anchor","visualblocks","code","insertdatetime","table"],toolbar:"blocks | bold italic forecolor | bullist numlist | removeformat",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }",placeholder:t.placeholder},onEditorChange:function(e){t.setFieldValue(t.name,e)}}))},Ke=function(e){var t=e.attributes;return n.createElement(Me.A.Field,{required:t.required},n.createElement(Me.A.Select,(0,Be.A)({search:!0},t,{options:t.options})),n.createElement("div",{className:"field-validation-error"},n.createElement(De.Kw,{name:t.name})))},We=function(e){var t=e.attributes;return n.createElement(Me.A.Field,{required:t.required},t.label&&n.createElement("label",null,t.label),n.createElement("div",{className:"field",style:{margin:0}},n.createElement("div",{className:"ui input"},n.createElement("input",{type:"file",name:t.name,multiple:t.multiple,accept:"image/*",onChange:t.onChange}))),n.createElement("small",null,t.info),n.createElement("div",{className:"field-validation-error"},n.createElement(De.Kw,{name:t.name})))};function Ze(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Je(){var e=(0,r.wA)(),t=(0,n.useRef)(),a=(0,n.useState)(!1),l=(0,Te.A)(a,2),i=l[0],o=l[1],s=(0,n.useState)(!1),m=(0,Te.A)(s,2),E=m[0],p=m[1],g=(0,n.useState)(""),h=(0,Te.A)(g,2),f=h[0],A=h[1];return n.createElement("div",{className:"ui middle aligned center aligned grid"},n.createElement("div",{style:{maxWidth:"370px"}},n.createElement(Ae.A,{as:"h2",className:"teal center aligned"},n.createElement(ke.A,{src:"images/logo.png"}),n.createElement("div",{className:"content"},"Log-in to your account")),n.createElement(fe.A,{className:"stacked"},n.createElement(De.l1,{initialValues:{email:"",password:""},validationSchema:Le,onSubmit:function(a,n){t.current.executeAsync().then((function(r){var l;e((l={username:a.email,password:a.password,grant_type:"password",recaptchaToken:r},{type:d,payload:(0,pe.A)({method:"post",url:"/api/login",data:l})})).catch((function(e){_e().error({timeout:3e3,title:e.response.status,message:e.response.data,position:"topRight"})})),t.current.reset(),n.setSubmitting(!1)}))}},n.createElement(De.lV,{className:"ui form"},n.createElement(He,{attributes:{name:"email",type:"email",icon:"mail",placeholder:"Email address",autoComplete:"username"}}),n.createElement(He,{attributes:{name:"password",type:"password",icon:"lock",placeholder:"Password",autoComplete:"current-password"}}),n.createElement(Se.A,{size:"invisible",ref:t,sitekey:"6LetqTYaAAAAALPTyu8NtrHw5PIvKxXq_-hQ1IE8"}),n.createElement(ye.A,{fluid:!0,type:"submit",className:"large teal"},"Login"))),n.createElement("button",{className:"ui primary tertiary button",onClick:function(){return p(!0)}},"Forgot password?"),n.createElement(Re.A,{dimmer:"blurring",size:"tiny",open:E},i&&n.createElement(je.A,{info:!0,icon:!0},n.createElement(be.A,{name:"mail"}),n.createElement(je.A.Content,null,n.createElement(je.A.Header,null,"Check your email"),"We just sent an email to you with a link to reset your password!")),f&&n.createElement(je.A,{error:!0,icon:!0},n.createElement(be.A,{name:"frown"}),n.createElement(je.A.Content,null,n.createElement(je.A.Header,null,"Attention!"),f)),n.createElement(De.l1,{initialValues:{email:""},validationSchema:Ue,onSubmit:function(e,t){pe.A.post("/api/forgot-password",function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(a),!0).forEach((function(t){(0,u.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ze(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e)).then((function(){o(!0),A("")})).catch((function(e){A(e.response.data)})),t.resetForm(),t.setSubmitting(!1)}},n.createElement(n.Fragment,null,n.createElement(Re.A.Header,null,"Reset Your Password"),n.createElement(Re.A.Content,null,n.createElement(Re.A.Description,null,n.createElement("p",null,"Enter your email address and we'll send you a link to reset your password."),n.createElement(De.lV,{id:"passwordResetForm"},n.createElement(He,{attributes:{name:"email",type:"email",icon:"mail",placeholder:"E-mail address",autoComplete:"username"}})))),n.createElement(Re.A.Actions,null,n.createElement(ye.A,{color:"black",onClick:function(){p(!1),o(!1),A("")}},"Close"),n.createElement(ye.A,{loading:!1,form:"passwordResetForm",type:"submit",positive:!0,icon:"arrow right",labelPosition:"right",content:"Send e-mail"}))))),n.createElement(he.A,{hidden:!0}),"Don't have an account? ",n.createElement(c.N_,{to:"/register"},"Sign up"),"."),"This site is protected by reCAPTCHA and the Google ",n.createElement("a",{href:"https://policies.google.com/privacy"},"Privacy Policy")," and ",n.createElement("a",{href:"https://policies.google.com/terms"},"Terms of Service")," apply.",n.createElement(Ye,null)))}function Xe(){var e=(0,r.wA)();return n.createElement("div",{className:"ui middle aligned center aligned grid"},n.createElement("div",{style:{maxWidth:"380px"}},n.createElement(Ae.A,{as:"h2",className:"teal center aligned"},n.createElement(ke.A,{src:"images/logo.png"}),n.createElement("div",{className:"content"},"Sign up for a new account")),n.createElement(fe.A,{className:"stacked"},n.createElement(De.l1,{initialValues:{name:"",email:"",password:""},displayName:"Register",validationSchema:xe,onSubmit:function(t,a){var n;e((n=t,{type:p,payload:(0,pe.A)({method:"post",url:"/api/register",data:n})})),a.resetForm(),a.setSubmitting(!1)}},(function(e){return n.createElement(De.lV,{onSubmit:e.handleSubmit,className:"ui form"},n.createElement(He,{attributes:{type:"text",name:"name",placeholder:"Name",icon:"users",iconPosition:"left"}}),n.createElement(He,{attributes:{type:"email",name:"email",placeholder:"E-mail address",icon:"mail",iconPosition:"left",autoComplete:"username"}}),n.createElement(He,{attributes:{type:"password",name:"password",placeholder:"Password",icon:"lock",iconPosition:"left",autoComplete:"new-password"}}),n.createElement(ye.A,{fluid:!0,type:"submit",className:"large teal",disabled:e.isSubmitting},"Register"),n.createElement(he.A,{hidden:!0}),"Already have an account? ",n.createElement(c.N_,{to:"/login"},"Sign in"),".")}))),"This site is protected by reCAPTCHA and the Google ",n.createElement("a",{href:"https://policies.google.com/privacy"},"Privacy Policy")," and ",n.createElement("a",{href:"https://policies.google.com/terms"},"Terms of Service")," apply.",n.createElement(Ye,null)))}function Qe(){var e=(0,n.useState)(!1),t=(0,Te.A)(e,2),a=t[0],l=t[1],i=(0,r.wA)(),o=(0,c.zy)();return n.createElement("div",{className:"ui middle aligned center aligned grid"},n.createElement("div",{style:{maxWidth:"450px"}},n.createElement(Ae.A,{as:"h2",className:"teal center aligned"},n.createElement(ke.A,{src:"images/logo.png"}),n.createElement("div",{className:"content"},"Reset your password")),a&&n.createElement(je.A,{info:!0},"Your password is changed. Please ",n.createElement(c.N_,{to:"/login"},"sign in")," to your account."),n.createElement(De.l1,{initialValues:{newPassword:"",confirmNewPassword:""},validationSchema:qe,onSubmit:function(e,t){var a,n;i((a=e,n=o.search,{type:b,payload:(0,pe.A)({method:"put",data:a,url:"/api/reset-password".concat(n)})})).then((function(){l(!0)})),t.resetForm(),t.setSubmitting(!1)}},n.createElement(De.lV,{className:"ui form large"},n.createElement(fe.A,{className:"stacked"},n.createElement(He,{attributes:{type:"password",name:"newPassword",label:"New password",autoComplete:"new-password"}}),n.createElement(He,{attributes:{type:"password",name:"confirmNewPassword",label:"Confirm new password",autoComplete:"new-password"}}),n.createElement(ye.A,{fluid:!0,type:"submit",className:"large teal"},"Reset password"),n.createElement(he.A,{hidden:!0}),"Remembered you password? ",n.createElement(c.N_,{to:"/login"},"Sign in"),".")))))}var $e=a(6148),et=a(9706);function tt(){var e=(0,r.wA)(),t=(0,r.d4)((function(e){return e.userReducer.loggedInUser})),a=function(t){confirm("Are you sure?")&&e(function(e){return{type:y,payload:(0,pe.A)({method:"put",url:"/api/auth/disconnect?provider=".concat(e)})}}(t))};return n.createElement("div",null,n.createElement("h3",null,"Manage Oauth providers"),n.createElement(he.A,{section:!0}),n.createElement(et.A,{divided:!0,relaxed:!0},n.createElement(et.A.Item,null,n.createElement(et.A.Icon,{name:"facebook",size:"large",verticalAlign:"middle",color:"blue"}),n.createElement(et.A.Content,null,n.createElement(et.A.Header,null,"Facebook"),n.createElement(et.A.Description,null,!t.facebook&&n.createElement("a",{href:"/oauth/facebook"},"[Connect]"),t.facebook&&n.createElement("div",null,t.facebook.email," ",n.createElement("a",{onClick:function(){return a("facebook")}},"[Disconnect]"))))),n.createElement(et.A.Item,null,n.createElement(et.A.Icon,{name:"google",size:"large",verticalAlign:"middle",color:"red"}),n.createElement(et.A.Content,null,n.createElement(et.A.Header,null,"Google"),n.createElement(et.A.Description,null,!t.google&&n.createElement("a",{href:"/oauth/google"},"[Connect]"),t.google&&n.createElement("div",null,t.google.email," ",n.createElement("a",{onClick:function(){return a("google")}},"[Disconnect]")))))))}function at(){var e=(0,r.wA)();return n.createElement("div",null,n.createElement("h3",null,"Change local account password"),n.createElement(he.A,{section:!0}),n.createElement(De.l1,{initialValues:{currentPassword:"",newPassword:"",confirmNewPassword:""},displayName:"ChangePassword",validationSchema:Ge,onSubmit:function(t,a){var n;e((n=t,{type:A,payload:(0,pe.A)({method:"put",data:n,url:"/api/profile/change-password"})})),a.resetForm(),a.setSubmitting(!1)}},(function(e){return n.createElement(De.lV,{onSubmit:e.handleSubmit,className:"ui form"},n.createElement(He,{attributes:{type:"password",name:"currentPassword",label:"Current password",autoComplete:"current-password"}}),n.createElement(He,{attributes:{type:"password",name:"newPassword",label:"New password",autoComplete:"new-password"}}),n.createElement(He,{attributes:{type:"password",name:"confirmNewPassword",label:"Confirm new password",autoComplete:"new-password"}}),n.createElement(he.A,{hidden:!0}),n.createElement(ye.A.Group,null,n.createElement(ye.A,{type:"submit",positive:!0,disabled:e.isSubmitting},"Change password"),n.createElement(ye.A.Or,null),n.createElement(ye.A,{type:"reset",disabled:e.isSubmitting},"Reset")))})))}function nt(){return n.createElement(fe.A,null,n.createElement($e.A,{columns:2,relaxed:"very",stackable:!0},n.createElement($e.A.Column,null,n.createElement(at,null)),n.createElement($e.A.Column,null,n.createElement(tt,null))),n.createElement(he.A,{vertical:!0},"Or"))}var rt=a(9515),lt=a(2193),it=a.n(lt),ct=a(4783),ot=a.n(ct),st=a(4713);function mt(e){return{type:S,payload:(0,pe.A)({method:"get",url:"/api/items/".concat(e)})}}function ut(){var e=[{key:"2021-2030",value:"2021-2030",text:"2021-2030"},{key:"2011-2020",value:"2011-2020",text:"2011-2020"},{key:"2001-2010",value:"2001-2010",text:"2001-2010"}],t=(0,n.useState)("".concat((new Date).getFullYear(),"-").concat((new Date).getFullYear()+9)),a=(0,Te.A)(t,2),l=a[0],i=a[1],c=(0,r.wA)();(0,n.useEffect)((function(){var e,t,a=l.split("-"),n=(0,Te.A)(a,2);e=n[0],t=n[1],c(function(e,t){return{type:U,payload:(0,pe.A)({method:"get",url:"/api/items/item-count?start_year=".concat(e,"&end_year=").concat(t)})}}(e,t))}),[c,l]);var o=(0,r.d4)((function(e){return e.itemReducer.itemsPerYear}));return(0,n.useEffect)((function(){var e=[],t=[];for(var a in o)e.push(a.toString()),t.push(o[a]);t.length&&e.length&&ot().chart("item-chart",{chart:{type:"column"},title:{text:"Items purchased between year (".concat(l,")")},xAxis:{categories:e,crosshair:!0},yAxis:{min:0,title:{text:"Number of Items"},allowDecimals:!1},tooltip:{headerFormat:'<span style="font-size:10px">{point.key}</span><table>',pointFormat:'<tr><td style="color:{series.color};padding:0">{series.name}: </td><td style="padding:0"><b>{point.y}</b></td></tr>',footerFormat:"</table>",shared:!0,useHTML:!0},plotOptions:{column:{pointPadding:.2,borderWidth:0}},series:[{name:"Total Items",data:t}],credits:{enabled:!1},legend:{enabled:!1},accessibility:{enabled:!1}})}),[o]),n.createElement(n.Fragment,null,n.createElement(st.A,{onChange:function(e,t){i(t.value)},options:e,defaultValue:e[0].value}),n.createElement("div",{id:"item-chart"}),it()(o)&&n.createElement(fe.A,{placeholder:!0,basic:!0},n.createElement(Ae.A,{icon:!0},n.createElement(be.A,{name:"warning sign"}),"Not enough data is available to generate the report.")))}function dt(){return{type:ae,payload:(0,pe.A)({method:"get",url:"/api/categories"})}}function Et(){var e=(0,r.wA)();(0,n.useEffect)((function(){e(dt())}),[e]);var t=(0,r.d4)((function(e){return e.categoryReducer.categories}));return(0,n.useEffect)((function(){if(t.length){var e=[];t.forEach((function(t){var a;null!==(a=t.items)&&void 0!==a&&a.length?e.push({name:t.name,y:t.items.length}):e.push({name:t.name,y:0})})),ot().chart("category-chart",{chart:{plotBackgroundColor:null,plotBorderWidth:null,plotShadow:!1},title:{text:"Gadget Categories"},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!0},showInLegend:!0}},series:[{type:"pie",name:"Categories",colorByPoint:!0,data:e}],credits:{enabled:!1},accessibility:{enabled:!1}})}}),[t]),n.createElement(n.Fragment,null,n.createElement("div",{id:"category-chart"}),!t.length&&n.createElement(fe.A,{placeholder:!0,basic:!0},n.createElement(Ae.A,{icon:!0},n.createElement(be.A,{name:"warning sign"}),"Not enough data is available to generate this report."),n.createElement(ye.A,{primary:!0},n.createElement(c.N_,{to:"/items/add",style:{color:"white"}},"Add New Item"))))}function pt(){return n.createElement("div",{id:"dashboard"},n.createElement(rt.A,{raised:!0,fluid:!0},n.createElement(rt.A.Content,null,n.createElement(rt.A.Header,null,n.createElement(be.A,{name:"pie chart"}),"Category percentages")),n.createElement(rt.A.Content,null,n.createElement(Et,null))),n.createElement(rt.A,{raised:!0,fluid:!0},n.createElement(rt.A.Content,null,n.createElement(rt.A.Header,null,n.createElement(be.A,{name:"bar chart"}),"Yearly report on purchased items")),n.createElement(rt.A.Content,null,n.createElement(ut,null))))}var gt=a(8628),ht=a(8530),ft=a(5402),At=a(6957),bt=a(984),yt=a(2300),vt=a(1394),wt=(a(824),(0,Fe.Ik)().shape({name:(0,Fe.Yj)().min(2,"This field must be at least 2 characters long.").max(50,"This field must be at most 50 characters long.").required("This field must not be empty."),categoryId:(0,Fe.Yj)().required("This field must not be empty."),brandId:(0,Fe.Yj)().required("This field must not be empty."),purchaseDate:(0,Fe.p6)().required("This field must not be empty."),currency:(0,Fe.Yj)().required("This field must not be empty."),price:(0,Fe.ai)().required("This field must not be empty."),payee:(0,Fe.Yj)().min(2,"This field must be at least 2 characters long.").max(30,"This field must be at most 50 characters long.")}));function Ct(){return{type:H,payload:(0,pe.A)({method:"get",url:"/api/brands"})}}function Ot(){var e=(0,c.g)().id,t=(0,c.Zp)(),a=(0,r.wA)();(0,n.useEffect)((function(){a(Ct()),a(dt())}),[a]),(0,n.useEffect)((function(){e&&a(mt(e))}),[e,a]);var l=(0,r.d4)((function(e){return e.itemReducer.item})),i=(0,r.d4)((function(e){return e.brandReducer.brands})),o=(0,r.d4)((function(e){return e.categoryReducer.categories})).map((function(e){return{key:e._id,value:e._id,text:e.name}})),s=i.map((function(e){return{key:e._id,value:e._id,text:e.name}})),m=[{key:"AUD",text:"AUD",value:"AUD"},{key:"BDT",text:"BDT",value:"BDT"},{key:"BGN",text:"BGN",value:"BGN"},{key:"CAD",text:"CAD",value:"CAD"},{key:"CNY",text:"CNY",value:"CNY"},{key:"EUR",text:"EUR",value:"EUR"},{key:"GBP",text:"GBP",value:"GBP"},{key:"INR",text:"INR",value:"INR"},{key:"JPY",text:"JPY",value:"JPY"},{key:"NZD",text:"NZD",value:"NZD"},{key:"RUB",text:"RUB",value:"RUB"},{key:"SGD",text:"SGD",value:"SGD"},{key:"USD",text:"USD",value:"USD"}];return n.createElement(De.l1,{initialValues:{name:l?l.name:"",description:l?l.description:"",categoryId:l?l.categoryId:"",brandId:l?l.brandId:"",purchaseDate:null!=l&&l.purchaseDate?(0,yt.GP)((0,vt.H)(l.purchaseDate),"y-MM-d"):"",price:l?l.price:"",currency:l?l.currency:"",payee:l?l.payee:"",invoice:"",images:[]},displayName:"ItemForm",enableReinitialize:!0,validationSchema:wt,onSubmit:function(n,r){var l=new FormData;if(n.images){for(var i=0;i<n.images.length;i++)l.append("images",n.images[i]);delete n.images}for(var c in n.invoice&&(l.append("invoice",n.invoice),delete n.invoice),n)n[c]&&n.hasOwnProperty(c)&&l.append(c,n[c]);e?a(function(e,t){return{type:T,payload:(0,pe.A)({method:"put",data:e,url:"/api/items/".concat(t)})}}(l,e)).then((function(e){e.action.type===D&&window.location.reload()})):a(function(e){return{type:I,payload:(0,pe.A)({method:"post",data:e,url:"/api/items"})}}(l)).then((function(e){var a=e.action,n=a.type,r=a.payload;n===N&&t("/items/".concat(r.data._id))})),r.setSubmitting(!1)}},(function(e){return n.createElement(De.lV,{onSubmit:e.handleSubmit,className:"ui form",encType:"multipart/form-data"},n.createElement(He,{attributes:{type:"text",name:"name",label:"Name",required:!0}}),n.createElement(Ve,{attributes:{value:e.values.description,name:"description",label:"Description",placeholder:"Item description goes here...",setFieldValue:e.setFieldValue}}),n.createElement(Me.A.Group,{widths:"equal"},n.createElement(Ke,{attributes:{value:e.values.categoryId,name:"categoryId",placeholder:"Select category",label:"Category",options:o,onChange:function(t,a){e.setFieldValue(a.name,a.value)},required:!0}}),n.createElement(Ke,{attributes:{value:e.values.brandId,name:"brandId",placeholder:"Select brand",label:"Brand",options:s,onChange:function(t,a){e.setFieldValue(a.name,a.value)},required:!0}})),n.createElement(Me.A.Group,{widths:"equal"},n.createElement(He,{attributes:{type:"number",name:"price",label:"Price",required:!0}}),n.createElement(Ke,{attributes:{value:e.values.currency,name:"currency",placeholder:"Select currency",label:"Currency",options:m,onChange:function(t,a){e.setFieldValue(a.name,a.value)},required:!0}})),n.createElement(Me.A.Group,{widths:"equal"},n.createElement(He,{attributes:{type:"date",name:"purchaseDate",label:"Purchase date",required:!0}}),n.createElement(He,{attributes:{type:"text",name:"payee",label:"Payee"}})),n.createElement(We,{attributes:{type:"file",name:"images",label:"Upload images",multiple:!0,info:"You can upload a maximum of 3 images at a time. The max file size limit is 1.5 MB.",onChange:function(t){e.setFieldValue("images",t.currentTarget.files)}}}),n.createElement(We,{attributes:{type:"file",name:"invoice",label:"Upload invoice",info:"The max file size limit is 1.5 MB.",onChange:function(t){e.setFieldValue("invoice",t.currentTarget.files[0])}}}),n.createElement(he.A,{hidden:!0}),n.createElement(ye.A.Group,null,n.createElement(ye.A,{type:"submit",positive:!0,disabled:e.isSubmitting},"Save changes"),n.createElement(ye.A.Or,null),n.createElement(ye.A,{type:"reset",disabled:e.isSubmitting},"Reset")))}))}function It(){var e,t=(0,c.g)().id,a=(0,c.Zp)(),l=(0,r.wA)(),i=(0,r.d4)((function(e){return e.itemReducer.item})),o=(0,r.d4)((function(e){return e.userReducer.loggedInUser})),s=(0,n.useState)(!1),m=(0,Te.A)(s,2),u=m[0],d=m[1];(0,n.useEffect)((function(){l(mt(t))}),[l]);var E=function(e){confirm("Are you sure? All assets associated with this item will be removed too.")&&l(function(e){return{type:j,payload:(0,pe.A)({method:"delete",url:"/api/items/".concat(e)})}}(e)).then((function(e){e.action.type===F&&a("/items")}))},p=function(e,t){confirm("Are you sure you want to delete this asset?")&&l(function(e,t){return{type:L,payload:(0,pe.A)({method:"delete",url:"/api/items/".concat(e,"/images/").concat(t)})}}(e,t))};return i?(null!==(e=i.assets)&&void 0!==e&&e.length&&(i.activeImage=i.assets.find((function(e){return!0===e.active}))),n.createElement(n.Fragment,null,n.createElement(ht.A,{size:"small"},n.createElement(c.N_,{to:"/items"},n.createElement(ht.A.Section,null,"Items")),n.createElement(ht.A.Divider,{icon:"right arrow"}),n.createElement(c.N_,{to:"/items?categoryId=".concat(i.category._id)},n.createElement(ht.A.Section,null,i.category.name)),n.createElement(ht.A.Divider,{icon:"right arrow"}),n.createElement(ht.A.Section,{active:!0},i.name)),n.createElement(he.A,{hidden:!0}),n.createElement($e.A,null,n.createElement($e.A.Column,{width:10},i.activeImage&&n.createElement(ke.A,{src:i.activeImage.secure_url,alt:i.name}),i.files&&0===i.files.length&&n.createElement(je.A,{warning:!0,icon:!0},n.createElement(be.A,{name:"warning sign",size:"large"}),n.createElement(je.A.Content,null,n.createElement(je.A.Header,null,"Warning!"),"No assets are found for this item. ",n.createElement(c.N_,{to:"/items/".concat(i._id,"/edit")},"Consider editing the item"),"."))),n.createElement($e.A.Column,{width:6},n.createElement(ft.A,null,n.createElement(ft.A.Content,null,n.createElement(Ae.A,{as:"h3"},i.name),n.createElement(he.A,{hidden:!0}),n.createElement(he.A,{horizontal:!0},"Meta Informations"),n.createElement(ft.A.Meta,null,n.createElement("div",null,"Category: ",n.createElement(c.N_,{to:"/items?categoryId=".concat(i.category._id)},i.category.name)),n.createElement("div",null,"Brand: ",n.createElement(c.N_,{to:"/items?brandId=".concat(i.brand._id)},i.brand.name)),i.price&&n.createElement("div",null,"Price: ",n.createElement(gt.Gr,{value:i.price,style:"currency",currency:i.currency})),n.createElement("div",null,"Purchase Date: ",n.createElement(gt.XU,{value:i.purchaseDate,day:"2-digit",month:"long",year:"numeric"})),i.invoice&&n.createElement("a",{href:"https://res.cloudinary.com/shibbir/image/upload/fl_attachment:invoice-".concat(i._id,"/").concat(i.invoice.public_id)},"Download invoice")),n.createElement(he.A,{horizontal:!0},"Specifications"),n.createElement(ft.A.Description,null,i.description&&n.createElement("div",{dangerouslySetInnerHTML:{__html:i.description}}),!i.description&&n.createElement("div",null,"Not available at the moment.")))),o&&!o.isAdmin&&n.createElement(n.Fragment,null,n.createElement(he.A,{section:!0}),n.createElement(ye.A,{color:"blue",onClick:function(){return d(!0)}},n.createElement(be.A,{name:"pencil"})," Edit"),n.createElement(ye.A,{color:"red",onClick:function(){return E(t)}},n.createElement(be.A,{name:"trash"})," Delete")))),i.assets&&i.assets.length>0&&n.createElement("div",null,n.createElement(he.A,{hidden:!0}),n.createElement("h2",null,"Manage assets"),n.createElement(he.A,{section:!0}),n.createElement(rt.A.Group,null,i.assets.map((function(e){return n.createElement(rt.A,{key:e._id,raised:!0},e.active&&n.createElement(At.A,{color:"teal",corner:"right",size:"small"},n.createElement(be.A,{name:"pin"})),n.createElement(rt.A.Content,{className:"ui center aligned"},n.createElement(ke.A,{src:e.secure_url,size:"small"})),o&&!o.isAdmin&&n.createElement(rt.A.Content,{extra:!0},n.createElement("a",{onClick:function(){return l((t=i._id,a=e._id,{type:x,payload:(0,pe.A)({method:"put",url:"/api/items/".concat(t,"/images/").concat(a)})}));var t,a},disabled:e.active},n.createElement(be.A,{color:"teal",name:"checkmark"}),"Set as active"),n.createElement("div",{className:"right floated"},n.createElement("a",{onClick:function(){return p(i._id,e._id)}},n.createElement(be.A,{color:"red",name:"delete"}),"Discard"))))})))),n.createElement(bt.A,{open:u,transition:{animation:"scale",duration:400}},n.createElement(Re.A,{dimmer:!0,size:"small",open:!0},n.createElement(Re.A.Header,null,"Item Form"),n.createElement(Re.A.Content,null,n.createElement(Re.A.Description,null,n.createElement(Ot,{id:t}))),n.createElement(Re.A.Actions,null,n.createElement(ye.A,{color:"black",onClick:function(){return d(!1)}},"Close")))))):n.createElement(je.A,{icon:!0,warning:!0},n.createElement(be.A,{name:"warning sign",size:"large"}),n.createElement(je.A.Content,null,n.createElement(je.A.Header,null,"Warning!"),"Item not found."))}var Nt=a(6417);function Tt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Dt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(a),!0).forEach((function(t){(0,u.A)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Tt(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function St(){var e=(0,r.wA)(),t=(0,c.Zp)(),a=(0,c.zy)(),l=(0,n.useState)(!1),i=(0,Te.A)(l,2),o=i[0],s=i[1],m=(0,n.useState)(!1),u=(0,Te.A)(m,2),d=u[0],E=u[1];(0,n.useEffect)((function(){e(Ct()),e(dt())}),[]),(0,n.useEffect)((function(){e(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:k,payload:(0,pe.A)({method:"get",url:"/api/items".concat(e)})}}(a.search))}),[a.search]);var p=Nt.A.parse(a.search),g=(0,n.useState)(p.brandId?p.brandId:""),h=(0,Te.A)(g,2),f=h[0],A=h[1],b=(0,n.useState)(p.categoryId?p.categoryId:""),y=(0,Te.A)(b,2),v=y[0],w=y[1],C=(0,n.useState)(p.startDate?p.startDate:""),O=(0,Te.A)(C,2),I=O[0],N=O[1],T=(0,n.useState)(p.endDate?p.endDate:""),D=(0,Te.A)(T,2),S=D[0],P=D[1];function _(e,n){var r={};v&&"category"!==n&&(r.categoryId=v),f&&"brand"!==n&&(r.brandId=f),I&&S&&"date"!==n&&(r.startDate=I,r.endDate=S),a.search!=="?".concat(Nt.A.stringify(r))&&(t({pathname:"/items",search:Nt.A.stringify(r)}),s(!1))}var R=null,j=null,F=null,L=(0,r.d4)((function(e){return e.itemReducer.items})),x=L.data,G=L.metadata,q=(0,r.d4)((function(e){return e.categoryReducer.categories})),U=(0,r.d4)((function(e){return e.brandReducer.brands}));p.categoryId&&q.length&&(j=q.find((function(e){return e._id===p.categoryId})).name),p.brandId&&U.length&&(R=U.find((function(e){return e._id===p.brandId})).name),p.startDate&&p.endDate&&(F="".concat(I,"-").concat(S));for(var Y=q.map((function(e){return{key:e._id,value:e._id,text:e.name}})),B=U.map((function(e){return{key:e._id,value:e._id,text:e.name}})),M=x.map((function(e){var t,a=e.assets.find((function(e){return e.active}))?e.assets.find((function(e){return e.active})).secure_url:null===(t=e.assets[0])||void 0===t?void 0:t.secure_url;return n.createElement(c.N_,{key:e._id,className:"ui raised card",to:e._id},n.createElement(rt.A.Content,{header:e.name,className:"ui center aligned"}),n.createElement(rt.A.Content,{className:"ui center aligned image-wrapper"},a?n.createElement(ke.A,{src:a,alt:e.name}):"Image not available!"))})),z=[],H=1;H<=G.pageCount;H++)z.push({idx:H,link:{pathname:a.pathname,search:Nt.A.stringify(Dt(Dt({},p),{},{page:H}))},isActive:!p.page&&1===H||+p.page===H});return z=z.map((function(e){return n.createElement(Ce.A.Item,{active:e.isActive,key:e.idx},n.createElement(c.N_,{to:e.link},e.idx))})),n.createElement(n.Fragment,null,n.createElement(fe.A,{raised:!0,stacked:!0},n.createElement($e.A,{columns:2},n.createElement($e.A.Row,null,n.createElement($e.A.Column,null,n.createElement(Ae.A,{as:"h3"},n.createElement(be.A,{name:"archive",circular:!0}),n.createElement(Ae.A.Content,null,"Total Gadgets: ",G.totalCount,n.createElement(Ae.A.Subheader,null,"Add, edit, sort and filter your gadgets ",n.createElement(be.A,{name:"angle double right"}))))),n.createElement($e.A.Column,null,n.createElement(ye.A,{floated:"right",size:"small",color:"blue",onClick:function(){return E(!0)}},"Add new item"),n.createElement(ye.A,{floated:"right",size:"small",onClick:function(){return s(!0)}},n.createElement(be.A,{color:"teal",name:"filter"})," Filter"))))),n.createElement(bt.A,{open:o,transition:{animation:"scale",duration:400}},n.createElement(Re.A,{dimmer:!0,size:"small",open:!0},n.createElement(Re.A.Header,null,"Filter"),n.createElement(Re.A.Content,null,n.createElement(Re.A.Description,null,n.createElement(Me.A,{onSubmit:_},n.createElement(Me.A.Group,{widths:"equal"},n.createElement(Me.A.Field,null,n.createElement("label",null,"Category"),n.createElement(Me.A.Select,{placeholder:"Choose an option",name:"categoryId",options:Y,value:v,onChange:function(e,t){w(t.value)}})),n.createElement(Me.A.Field,null,n.createElement("label",null,"Brand"),n.createElement(Me.A.Select,{placeholder:"Choose an option",name:"brandId",options:B,value:f,onChange:function(e,t){A(t.value)}}))),n.createElement(Me.A.Group,{widths:"equal"},n.createElement(Me.A.Field,null,n.createElement("label",null,"Start Date"),n.createElement(Me.A.Input,{type:"date",placeholder:"Choose a date",name:"startDate",value:I,onChange:function(e,t){N(t.value)}})),n.createElement(Me.A.Field,null,n.createElement("label",null,"End Date"),n.createElement(Me.A.Input,{type:"date",placeholder:"Choose a date",name:"endDate",value:S,onChange:function(e,t){P(t.value)}}))),n.createElement(ye.A.Group,null,n.createElement(ye.A,{type:"submit",positive:!0},n.createElement(be.A,{name:"filter"})," Apply"),n.createElement(ye.A.Or,null),n.createElement(ye.A,{type:"button",onClick:function(){A(""),w(""),N(""),P(""),(p.categoryId||p.brandId||p.startDate||p.endDate)&&t("items")}},n.createElement(be.A,{name:"undo"})," Reset"))))),n.createElement(Re.A.Actions,null,n.createElement(ye.A,{color:"black",onClick:function(){return s(!1)}},"Close")))),j&&n.createElement(At.A,{color:"blue"},"Category: ",j," ",n.createElement(be.A,{name:"delete",onClick:function(e){w(""),_(0,"category")}})),R&&n.createElement(At.A,{color:"blue"},"Brand: ",R," ",n.createElement(be.A,{name:"delete",onClick:function(e){A(""),_(0,"brand")}})),F&&n.createElement(At.A,{color:"blue"},"Date Range: ",F," ",n.createElement(be.A,{name:"delete",onClick:function(e){N(""),P(""),_(0,"date")}})),n.createElement(he.A,{hidden:!0}),M.length>0&&n.createElement("div",{id:"item-cards-container"},n.createElement(rt.A.Group,{itemsPerRow:5,stackable:!0},M),1!==G.pageCount&&n.createElement("div",null,n.createElement(he.A,{hidden:!0}),n.createElement(ge.A,{textAlign:"center"},n.createElement(Ce.A,{pagination:!0},z)))),0===M.length&&n.createElement(fe.A,{placeholder:!0,raised:!0},n.createElement(Ae.A,{icon:!0},n.createElement(be.A,{name:"warning sign"}),"You don't have any items!")),n.createElement(bt.A,{open:d,transition:{animation:"scale",duration:400}},n.createElement(Re.A,{dimmer:!0,size:"small",open:!0},n.createElement(Re.A.Header,null,"Item Form"),n.createElement(Re.A.Content,null,n.createElement(Re.A.Description,null,n.createElement(Ot,null))),n.createElement(Re.A.Actions,null,n.createElement(ye.A,{color:"black",onClick:function(){return E(!1)}},"Close")))))}var Pt=a(5893),_t=a(5556),kt=a.n(_t);const Rt=(0,Fe.Ik)().shape({name:(0,Fe.Yj)().min(2,"This field must be at least 2 characters long.").max(30,"This field must be at most 30 characters long.").required("This field must not be empty.")});function jt(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:props).id,t=(0,r.wA)();(0,n.useEffect)((function(){e&&t(function(e){return{type:X,payload:(0,pe.A)({method:"get",url:"/api/brands/".concat(e)})}}(e))}),[e,t]);var a=(0,r.d4)((function(e){return e.brandReducer.brand}));return n.createElement(De.l1,{initialValues:{name:e&&a?a.name:""},displayName:"BrandForm",enableReinitialize:!0,validationSchema:Rt,onSubmit:function(a,n){var r;e?t(function(e,t){return{type:Z,payload:(0,pe.A)({method:"put",data:e,url:"/api/brands/".concat(t)})}}(a,e)).then((function(){_e().success({timeout:3e3,message:"Your changes are saved.",position:"bottomRight"})})):t((r=a,{type:K,payload:(0,pe.A)({method:"post",data:r,url:"/api/brands"})})).then((function(){_e().success({timeout:3e3,message:"Your changes are saved.",position:"bottomRight"}),n.resetForm()})),n.setSubmitting(!1)}},(function(e){return n.createElement(De.lV,{onSubmit:e.handleSubmit,className:"ui form"},n.createElement(He,{attributes:{type:"text",name:"name",label:"Name",required:!0}}),n.createElement(he.A,{hidden:!0}),n.createElement(ye.A,{type:"submit",positive:!0,disabled:e.isSubmitting},"Save changes"),n.createElement(ye.A,{type:"reset",disabled:e.isSubmitting},"Reset"))}))}jt.propTypes={id:kt().string};const Ft=jt;function Lt(){var e=(0,r.wA)(),t=(0,n.useState)(void 0),a=(0,Te.A)(t,2),l=a[0],i=a[1];(0,n.useEffect)((function(){e(Ct())}),[]);var o=(0,r.d4)((function(e){return e.userReducer.loggedInUser})),s=(0,r.d4)((function(e){return e.brandReducer.brands})),m=s.map((function(e,t){return n.createElement(Pt.A.Row,{key:e._id},n.createElement(Pt.A.Cell,null,t+1),n.createElement(Pt.A.Cell,null,e.name),n.createElement(Pt.A.Cell,null,n.createElement(gt.XU,{value:e.date,day:"2-digit",month:"long",year:"numeric"})),n.createElement(Pt.A.Cell,null,n.createElement(c.N_,{to:"/items?brandId=".concat(e._id)},n.createElement(be.A,{color:"teal",name:"external alternate"}),e.items?e.items.length:0," item(s)")),n.createElement(Pt.A.Cell,null,(null==o?void 0:o._id)===e.createdBy&&n.createElement("a",{onClick:function(){return i(e._id)}},n.createElement(be.A,{name:"edit",color:"teal"})),(null==o?void 0:o._id)!==e.createdBy&&n.createElement(be.A,{name:"lock",color:"black"})))}));return n.createElement(n.Fragment,null,s.length>0&&n.createElement(n.Fragment,null,n.createElement(ye.A,{floated:"right",primary:!0,size:"small",onClick:function(){return i(null)}},"Add new brand"),n.createElement(he.A,{hidden:!0,clearing:!0}),n.createElement(Pt.A,{selectable:!0,compact:!0},n.createElement(Pt.A.Header,null,n.createElement(Pt.A.Row,null,n.createElement(Pt.A.HeaderCell,null,"#"),n.createElement(Pt.A.HeaderCell,null,"Name"),n.createElement(Pt.A.HeaderCell,null,"Last Updated"),n.createElement(Pt.A.HeaderCell,null,"Items"),n.createElement(Pt.A.HeaderCell,null,"Actions"))),n.createElement(Pt.A.Body,null,m)),n.createElement(bt.A,{open:void 0!==l,transition:{animation:"scale",duration:400}},n.createElement(Re.A,{dimmer:!0,size:"tiny",open:!0},n.createElement(Re.A.Header,null,"Brand Form"),n.createElement(Re.A.Content,null,n.createElement(Re.A.Description,null,n.createElement(Ft,{id:l}))),n.createElement(Re.A.Actions,null,n.createElement(ye.A,{color:"black",onClick:function(){return i(void 0)}},"Close"))))),0===s.length&&n.createElement(fe.A,{placeholder:!0,raised:!0},n.createElement(Ae.A,{icon:!0},n.createElement(be.A,{name:"warning sign"}),"No brands are available!")))}const xt=(0,Fe.Ik)().shape({name:(0,Fe.Yj)().min(2,"This field must be at least 2 characters long.").max(20,"This field must be at most 20 characters long.").required("This field must not be empty.")});function Gt(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:props).id,t=(0,r.wA)();(0,n.useEffect)((function(){e&&t(function(e){return{type:ce,payload:(0,pe.A)({method:"get",url:"/api/categories/".concat(e)})}}(e))}),[e,t]);var a=(0,r.d4)((function(e){return e.categoryReducer.category}));return n.createElement(De.l1,{initialValues:{name:e&&a?a.name:"",group:e&&a?a.group:""},displayName:"CategoryForm",enableReinitialize:!0,validationSchema:xt,onSubmit:function(a,n){var r;e?t(function(e,t){return{type:le,payload:(0,pe.A)({method:"put",data:e,url:"/api/categories/".concat(t)})}}(a,e)).then((function(){_e().success({timeout:3e3,message:"Your changes are saved.",position:"bottomRight"})})):t((r=a,{type:re,payload:(0,pe.A)({method:"post",data:r,url:"/api/categories"})})).then((function(){_e().success({timeout:3e3,message:"Your changes are saved.",position:"bottomRight"}),n.resetForm()})),n.setSubmitting(!1)}},(function(e){return n.createElement(De.lV,{onSubmit:e.handleSubmit,className:"ui form"},n.createElement(He,{attributes:{type:"text",name:"name",label:"Name",required:!0}}),n.createElement(he.A,{hidden:!0}),n.createElement(ye.A.Group,null,n.createElement(ye.A,{type:"submit",positive:!0,disabled:e.isSubmitting},"Save changes"),n.createElement(ye.A.Or,null),n.createElement(ye.A,{type:"reset",disabled:e.isSubmitting},"Reset")))}))}function qt(){var e=(0,r.wA)(),t=(0,n.useState)(void 0),a=(0,Te.A)(t,2),l=a[0],i=a[1];(0,n.useEffect)((function(){e(dt())}),[]);var o=(0,r.d4)((function(e){return e.userReducer.loggedInUser})),s=(0,r.d4)((function(e){return e.categoryReducer.categories})),m=s.map((function(e){return n.createElement(rt.A,{key:e._id},n.createElement(rt.A.Content,null,n.createElement(rt.A.Header,null,e.name),n.createElement(rt.A.Meta,null,e.items?e.items.length:0," Items"),n.createElement(rt.A.Description,null,"Steve wants to add you to the group ",n.createElement("strong",null,"best friends"))),n.createElement(rt.A.Content,{extra:!0},n.createElement(c.N_,{to:"/items?categoryId=".concat(e._id),className:"ui button basic blue"},n.createElement(be.A,{name:"external alternate",color:"teal"})," Show Items"),(null==o?void 0:o.isAdmin)&&n.createElement("a",{onClick:function(){return i(e._id)},className:"ui button"},n.createElement(be.A,{name:"pencil",color:"teal"})," Edit")))}));return n.createElement(n.Fragment,null,s.length>0&&n.createElement(n.Fragment,null,(null==o?void 0:o.isAdmin)&&n.createElement(ye.A,{floated:"right",primary:!0,size:"small",onClick:function(){return i(null)}},"Add new category"),n.createElement(he.A,{hidden:!0,clearing:!0}),n.createElement(rt.A.Group,{itemsPerRow:4,stackable:!0},m),n.createElement(bt.A,{open:void 0!==l,transition:{animation:"scale",duration:400}},n.createElement(Re.A,{dimmer:!0,size:"tiny",open:!0},n.createElement(Re.A.Header,null,"Category Form"),n.createElement(Re.A.Content,null,n.createElement(Re.A.Description,null,n.createElement(Gt,{id:l}))),n.createElement(Re.A.Actions,null,n.createElement(ye.A,{color:"black",onClick:function(){return i(void 0)}},"Close"))))),0===s.length&&n.createElement(fe.A,{placeholder:!0,raised:!0},n.createElement(Ae.A,{icon:!0},n.createElement(be.A,{name:"warning sign"}),"No categories are available!")))}var Ut=0;function Yt(e){e?(Ut++,document.getElementById("loader").style="display: block"):Ut>0&&(Ut--,document.getElementById("loader").style=Ut>0?"display: block":"display: none")}function Bt(){var e=(0,r.wA)();return(0,n.useEffect)((function(){e({type:h,payload:(0,pe.A)({method:"get",url:"/api/profile"})})}),[e]),n.createElement(c.BV,null,n.createElement(c.qh,{element:n.createElement(we,null)},n.createElement(c.qh,{path:"login",element:n.createElement(Je,null)}),n.createElement(c.qh,{path:"register",element:n.createElement(Xe,null)}),n.createElement(c.qh,{path:"reset-password",element:n.createElement(Qe,null)})),n.createElement(c.qh,{element:n.createElement(Ne,null)},n.createElement(c.qh,{path:"/",element:n.createElement(pt,null)}),n.createElement(c.qh,{path:"profile",element:n.createElement(nt,null)}),n.createElement(c.qh,{path:"items",element:n.createElement(St,null)}),n.createElement(c.qh,{path:"items/:id",element:n.createElement(It,null)}),n.createElement(c.qh,{path:"brands",element:n.createElement(Lt,null)}),n.createElement(c.qh,{path:"categories",element:n.createElement(qt,null)})),n.createElement(c.qh,{path:"*",element:n.createElement(ve,null)}))}pe.A.interceptors.request.use((function(e){return Yt(!0),e}),(function(e){return Yt(!1),Promise.reject(e)})),pe.A.interceptors.response.use((function(e){return Yt(!1),e}),(function(e){return Yt(!1),Promise.reject(e)})),(0,i.createRoot)(document.getElementById("app")).render(n.createElement(r.Kq,{store:Ee},n.createElement(l.A,{locale:"en"},n.createElement(c.Kd,{future:{v7_startTransition:!0}},n.createElement(Bt,null)))))}},e=>{e.O(0,[96],(()=>{return t=1831,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=app.24255f80517a4eb34b54.js.map